import{c as be,j as t,X as rt,u as st}from"./Toast.Caj2rnBI.js";import{a as De,d as Xe,u as nt,b as ue,P as it}from"./ui.0ZFFQBcw.js";import{c as ye,g as at,r as oe}from"./index.Ba4_ASc-.js";import{G as We,R as ot,C as Oe}from"./ResizablePanel.CVaCKn_F.js";/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$e=be("arrow-left",lt);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}]],dt=be("ban",ct);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ze=be("check",ht);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ft=be("copy",ut);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ke=be("download",pt);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xt=be("eye",mt);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],Te=be("file-braces",bt);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=[["path",{d:"M5 12h14",key:"1ays0h"}]],vt=be("minus",gt);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Pe=be("panels-top-left",wt);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],yt=be("refresh-cw",_t);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],jt=be("share-2",kt);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Nt=be("smartphone",zt);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ct=be("upload",St);function Be(H){throw new Error('Could not dynamically require "'+H+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Le={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Ze;function At(){return Ze||(Ze=1,function(H,q){(function(x){H.exports=x()})(function(){return function x(v,k,a){function c(f,_){if(!k[f]){if(!v[f]){var w=typeof Be=="function"&&Be;if(!_&&w)return w(f,!0);if(s)return s(f,!0);var g=new Error("Cannot find module '"+f+"'");throw g.code="MODULE_NOT_FOUND",g}var i=k[f]={exports:{}};v[f][0].call(i.exports,function(m){var n=v[f][1][m];return c(n||m)},i,i.exports,x,v,k,a)}return k[f].exports}for(var s=typeof Be=="function"&&Be,h=0;h<a.length;h++)c(a[h]);return c}({1:[function(x,v,k){var a=x("./utils"),c=x("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";k.encode=function(h){for(var f,_,w,g,i,m,n,u=[],d=0,b=h.length,z=b,C=a.getTypeOf(h)!=="string";d<h.length;)z=b-d,w=C?(f=h[d++],_=d<b?h[d++]:0,d<b?h[d++]:0):(f=h.charCodeAt(d++),_=d<b?h.charCodeAt(d++):0,d<b?h.charCodeAt(d++):0),g=f>>2,i=(3&f)<<4|_>>4,m=1<z?(15&_)<<2|w>>6:64,n=2<z?63&w:64,u.push(s.charAt(g)+s.charAt(i)+s.charAt(m)+s.charAt(n));return u.join("")},k.decode=function(h){var f,_,w,g,i,m,n=0,u=0,d="data:";if(h.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var b,z=3*(h=h.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(h.charAt(h.length-1)===s.charAt(64)&&z--,h.charAt(h.length-2)===s.charAt(64)&&z--,z%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=c.uint8array?new Uint8Array(0|z):new Array(0|z);n<h.length;)f=s.indexOf(h.charAt(n++))<<2|(g=s.indexOf(h.charAt(n++)))>>4,_=(15&g)<<4|(i=s.indexOf(h.charAt(n++)))>>2,w=(3&i)<<6|(m=s.indexOf(h.charAt(n++))),b[u++]=f,i!==64&&(b[u++]=_),m!==64&&(b[u++]=w);return b}},{"./support":30,"./utils":32}],2:[function(x,v,k){var a=x("./external"),c=x("./stream/DataWorker"),s=x("./stream/Crc32Probe"),h=x("./stream/DataLengthProbe");function f(_,w,g,i,m){this.compressedSize=_,this.uncompressedSize=w,this.crc32=g,this.compression=i,this.compressedContent=m}f.prototype={getContentWorker:function(){var _=new c(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),w=this;return _.on("end",function(){if(this.streamInfo.data_length!==w.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),_},getCompressedWorker:function(){return new c(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(_,w,g){return _.pipe(new s).pipe(new h("uncompressedSize")).pipe(w.compressWorker(g)).pipe(new h("compressedSize")).withStreamInfo("compression",w)},v.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(x,v,k){var a=x("./stream/GenericWorker");k.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},k.DEFLATE=x("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(x,v,k){var a=x("./utils"),c=function(){for(var s,h=[],f=0;f<256;f++){s=f;for(var _=0;_<8;_++)s=1&s?3988292384^s>>>1:s>>>1;h[f]=s}return h}();v.exports=function(s,h){return s!==void 0&&s.length?a.getTypeOf(s)!=="string"?function(f,_,w,g){var i=c,m=g+w;f^=-1;for(var n=g;n<m;n++)f=f>>>8^i[255&(f^_[n])];return-1^f}(0|h,s,s.length,0):function(f,_,w,g){var i=c,m=g+w;f^=-1;for(var n=g;n<m;n++)f=f>>>8^i[255&(f^_.charCodeAt(n))];return-1^f}(0|h,s,s.length,0):0}},{"./utils":32}],5:[function(x,v,k){k.base64=!1,k.binary=!1,k.dir=!1,k.createFolders=!0,k.date=null,k.compression=null,k.compressionOptions=null,k.comment=null,k.unixPermissions=null,k.dosPermissions=null},{}],6:[function(x,v,k){var a=null;a=typeof Promise<"u"?Promise:x("lie"),v.exports={Promise:a}},{lie:37}],7:[function(x,v,k){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=x("pako"),s=x("./utils"),h=x("./stream/GenericWorker"),f=a?"uint8array":"array";function _(w,g){h.call(this,"FlateWorker/"+w),this._pako=null,this._pakoAction=w,this._pakoOptions=g,this.meta={}}k.magic="\b\0",s.inherits(_,h),_.prototype.processChunk=function(w){this.meta=w.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(f,w.data),!1)},_.prototype.flush=function(){h.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},_.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},_.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var w=this;this._pako.onData=function(g){w.push({data:g,meta:w.meta})}},k.compressWorker=function(w){return new _("Deflate",w)},k.uncompressWorker=function(){return new _("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(x,v,k){function a(i,m){var n,u="";for(n=0;n<m;n++)u+=String.fromCharCode(255&i),i>>>=8;return u}function c(i,m,n,u,d,b){var z,C,S=i.file,L=i.compression,T=b!==f.utf8encode,U=s.transformTo("string",b(S.name)),O=s.transformTo("string",f.utf8encode(S.name)),$=S.comment,V=s.transformTo("string",b($)),y=s.transformTo("string",f.utf8encode($)),B=O.length!==S.name.length,r=y.length!==$.length,E="",K="",M="",te=S.dir,W=S.date,ee={crc32:0,compressedSize:0,uncompressedSize:0};m&&!n||(ee.crc32=i.crc32,ee.compressedSize=i.compressedSize,ee.uncompressedSize=i.uncompressedSize);var I=0;m&&(I|=8),T||!B&&!r||(I|=2048);var A=0,Q=0;te&&(A|=16),d==="UNIX"?(Q=798,A|=function(G,le){var fe=G;return G||(fe=le?16893:33204),(65535&fe)<<16}(S.unixPermissions,te)):(Q=20,A|=function(G){return 63&(G||0)}(S.dosPermissions)),z=W.getUTCHours(),z<<=6,z|=W.getUTCMinutes(),z<<=5,z|=W.getUTCSeconds()/2,C=W.getUTCFullYear()-1980,C<<=4,C|=W.getUTCMonth()+1,C<<=5,C|=W.getUTCDate(),B&&(K=a(1,1)+a(_(U),4)+O,E+="up"+a(K.length,2)+K),r&&(M=a(1,1)+a(_(V),4)+y,E+="uc"+a(M.length,2)+M);var X="";return X+=`
\0`,X+=a(I,2),X+=L.magic,X+=a(z,2),X+=a(C,2),X+=a(ee.crc32,4),X+=a(ee.compressedSize,4),X+=a(ee.uncompressedSize,4),X+=a(U.length,2),X+=a(E.length,2),{fileRecord:w.LOCAL_FILE_HEADER+X+U+E,dirRecord:w.CENTRAL_FILE_HEADER+a(Q,2)+X+a(V.length,2)+"\0\0\0\0"+a(A,4)+a(u,4)+U+E+V}}var s=x("../utils"),h=x("../stream/GenericWorker"),f=x("../utf8"),_=x("../crc32"),w=x("../signature");function g(i,m,n,u){h.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=m,this.zipPlatform=n,this.encodeFileName=u,this.streamFiles=i,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(g,h),g.prototype.push=function(i){var m=i.meta.percent||0,n=this.entriesCount,u=this._sources.length;this.accumulate?this.contentBuffer.push(i):(this.bytesWritten+=i.data.length,h.prototype.push.call(this,{data:i.data,meta:{currentFile:this.currentFile,percent:n?(m+100*(n-u-1))/n:100}}))},g.prototype.openedSource=function(i){this.currentSourceOffset=this.bytesWritten,this.currentFile=i.file.name;var m=this.streamFiles&&!i.file.dir;if(m){var n=c(i,m,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(i){this.accumulate=!1;var m=this.streamFiles&&!i.file.dir,n=c(i,m,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),m)this.push({data:function(u){return w.DATA_DESCRIPTOR+a(u.crc32,4)+a(u.compressedSize,4)+a(u.uncompressedSize,4)}(i),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var i=this.bytesWritten,m=0;m<this.dirRecords.length;m++)this.push({data:this.dirRecords[m],meta:{percent:100}});var n=this.bytesWritten-i,u=function(d,b,z,C,S){var L=s.transformTo("string",S(C));return w.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(d,2)+a(d,2)+a(b,4)+a(z,4)+a(L.length,2)+L}(this.dirRecords.length,n,i,this.zipComment,this.encodeFileName);this.push({data:u,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(i){this._sources.push(i);var m=this;return i.on("data",function(n){m.processChunk(n)}),i.on("end",function(){m.closedSource(m.previous.streamInfo),m._sources.length?m.prepareNextSource():m.end()}),i.on("error",function(n){m.error(n)}),this},g.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(i){var m=this._sources;if(!h.prototype.error.call(this,i))return!1;for(var n=0;n<m.length;n++)try{m[n].error(i)}catch{}return!0},g.prototype.lock=function(){h.prototype.lock.call(this);for(var i=this._sources,m=0;m<i.length;m++)i[m].lock()},v.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(x,v,k){var a=x("../compressions"),c=x("./ZipFileWorker");k.generateWorker=function(s,h,f){var _=new c(h.streamFiles,f,h.platform,h.encodeFileName),w=0;try{s.forEach(function(g,i){w++;var m=function(b,z){var C=b||z,S=a[C];if(!S)throw new Error(C+" is not a valid compression method !");return S}(i.options.compression,h.compression),n=i.options.compressionOptions||h.compressionOptions||{},u=i.dir,d=i.date;i._compressWorker(m,n).withStreamInfo("file",{name:g,dir:u,date:d,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(_)}),_.entriesCount=w}catch(g){_.error(g)}return _}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(x,v,k){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new a;for(var s in this)typeof this[s]!="function"&&(c[s]=this[s]);return c}}(a.prototype=x("./object")).loadAsync=x("./load"),a.support=x("./support"),a.defaults=x("./defaults"),a.version="3.10.1",a.loadAsync=function(c,s){return new a().loadAsync(c,s)},a.external=x("./external"),v.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(x,v,k){var a=x("./utils"),c=x("./external"),s=x("./utf8"),h=x("./zipEntries"),f=x("./stream/Crc32Probe"),_=x("./nodejsUtils");function w(g){return new c.Promise(function(i,m){var n=g.decompressed.getContentWorker().pipe(new f);n.on("error",function(u){m(u)}).on("end",function(){n.streamInfo.crc32!==g.decompressed.crc32?m(new Error("Corrupted zip : CRC32 mismatch")):i()}).resume()})}v.exports=function(g,i){var m=this;return i=a.extend(i||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),_.isNode&&_.isStream(g)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",g,!0,i.optimizedBinaryString,i.base64).then(function(n){var u=new h(i);return u.load(n),u}).then(function(n){var u=[c.Promise.resolve(n)],d=n.files;if(i.checkCRC32)for(var b=0;b<d.length;b++)u.push(w(d[b]));return c.Promise.all(u)}).then(function(n){for(var u=n.shift(),d=u.files,b=0;b<d.length;b++){var z=d[b],C=z.fileNameStr,S=a.resolve(z.fileNameStr);m.file(S,z.decompressed,{binary:!0,optimizedBinaryString:!0,date:z.date,dir:z.dir,comment:z.fileCommentStr.length?z.fileCommentStr:null,unixPermissions:z.unixPermissions,dosPermissions:z.dosPermissions,createFolders:i.createFolders}),z.dir||(m.file(S).unsafeOriginalName=C)}return u.zipComment.length&&(m.comment=u.zipComment),m})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(x,v,k){var a=x("../utils"),c=x("../stream/GenericWorker");function s(h,f){c.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(f)}a.inherits(s,c),s.prototype._bindStream=function(h){var f=this;(this._stream=h).pause(),h.on("data",function(_){f.push({data:_,meta:{percent:0}})}).on("error",function(_){f.isPaused?this.generatedError=_:f.error(_)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},s.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},v.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(x,v,k){var a=x("readable-stream").Readable;function c(s,h,f){a.call(this,h),this._helper=s;var _=this;s.on("data",function(w,g){_.push(w)||_._helper.pause(),f&&f(g)}).on("error",function(w){_.emit("error",w)}).on("end",function(){_.push(null)})}x("../utils").inherits(c,a),c.prototype._read=function(){this._helper.resume()},v.exports=c},{"../utils":32,"readable-stream":16}],14:[function(x,v,k){v.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,c);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,c)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var c=new Buffer(a);return c.fill(0),c},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(x,v,k){function a(S,L,T){var U,O=s.getTypeOf(L),$=s.extend(T||{},_);$.date=$.date||new Date,$.compression!==null&&($.compression=$.compression.toUpperCase()),typeof $.unixPermissions=="string"&&($.unixPermissions=parseInt($.unixPermissions,8)),$.unixPermissions&&16384&$.unixPermissions&&($.dir=!0),$.dosPermissions&&16&$.dosPermissions&&($.dir=!0),$.dir&&(S=d(S)),$.createFolders&&(U=u(S))&&b.call(this,U,!0);var V=O==="string"&&$.binary===!1&&$.base64===!1;T&&T.binary!==void 0||($.binary=!V),(L instanceof w&&L.uncompressedSize===0||$.dir||!L||L.length===0)&&($.base64=!1,$.binary=!0,L="",$.compression="STORE",O="string");var y=null;y=L instanceof w||L instanceof h?L:m.isNode&&m.isStream(L)?new n(S,L):s.prepareContent(S,L,$.binary,$.optimizedBinaryString,$.base64);var B=new g(S,y,$);this.files[S]=B}var c=x("./utf8"),s=x("./utils"),h=x("./stream/GenericWorker"),f=x("./stream/StreamHelper"),_=x("./defaults"),w=x("./compressedObject"),g=x("./zipObject"),i=x("./generate"),m=x("./nodejsUtils"),n=x("./nodejs/NodejsStreamInputAdapter"),u=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var L=S.lastIndexOf("/");return 0<L?S.substring(0,L):""},d=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},b=function(S,L){return L=L!==void 0?L:_.createFolders,S=d(S),this.files[S]||a.call(this,S,null,{dir:!0,createFolders:L}),this.files[S]};function z(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var L,T,U;for(L in this.files)U=this.files[L],(T=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&S(T,U)},filter:function(S){var L=[];return this.forEach(function(T,U){S(T,U)&&L.push(U)}),L},file:function(S,L,T){if(arguments.length!==1)return S=this.root+S,a.call(this,S,L,T),this;if(z(S)){var U=S;return this.filter(function($,V){return!V.dir&&U.test($)})}var O=this.files[this.root+S];return O&&!O.dir?O:null},folder:function(S){if(!S)return this;if(z(S))return this.filter(function(O,$){return $.dir&&S.test(O)});var L=this.root+S,T=b.call(this,L),U=this.clone();return U.root=T.name,U},remove:function(S){S=this.root+S;var L=this.files[S];if(L||(S.slice(-1)!=="/"&&(S+="/"),L=this.files[S]),L&&!L.dir)delete this.files[S];else for(var T=this.filter(function(O,$){return $.name.slice(0,S.length)===S}),U=0;U<T.length;U++)delete this.files[T[U].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var L,T={};try{if((T=s.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=T.type.toLowerCase(),T.compression=T.compression.toUpperCase(),T.type==="binarystring"&&(T.type="string"),!T.type)throw new Error("No output type specified.");s.checkSupport(T.type),T.platform!=="darwin"&&T.platform!=="freebsd"&&T.platform!=="linux"&&T.platform!=="sunos"||(T.platform="UNIX"),T.platform==="win32"&&(T.platform="DOS");var U=T.comment||this.comment||"";L=i.generateWorker(this,T,U)}catch(O){(L=new h("error")).error(O)}return new f(L,T.type||"string",T.mimeType)},generateAsync:function(S,L){return this.generateInternalStream(S).accumulate(L)},generateNodeStream:function(S,L){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(L)}};v.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(x,v,k){v.exports=x("stream")},{stream:void 0}],17:[function(x,v,k){var a=x("./DataReader");function c(s){a.call(this,s);for(var h=0;h<this.data.length;h++)s[h]=255&s[h]}x("../utils").inherits(c,a),c.prototype.byteAt=function(s){return this.data[this.zero+s]},c.prototype.lastIndexOfSignature=function(s){for(var h=s.charCodeAt(0),f=s.charCodeAt(1),_=s.charCodeAt(2),w=s.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===h&&this.data[g+1]===f&&this.data[g+2]===_&&this.data[g+3]===w)return g-this.zero;return-1},c.prototype.readAndCheckSignature=function(s){var h=s.charCodeAt(0),f=s.charCodeAt(1),_=s.charCodeAt(2),w=s.charCodeAt(3),g=this.readData(4);return h===g[0]&&f===g[1]&&_===g[2]&&w===g[3]},c.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,h},v.exports=c},{"../utils":32,"./DataReader":18}],18:[function(x,v,k){var a=x("../utils");function c(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var h,f=0;for(this.checkOffset(s),h=this.index+s-1;h>=this.index;h--)f=(f<<8)+this.byteAt(h);return this.index+=s,f},readString:function(s){return a.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},v.exports=c},{"../utils":32}],19:[function(x,v,k){var a=x("./Uint8ArrayReader");function c(s){a.call(this,s)}x("../utils").inherits(c,a),c.prototype.readData=function(s){this.checkOffset(s);var h=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,h},v.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(x,v,k){var a=x("./DataReader");function c(s){a.call(this,s)}x("../utils").inherits(c,a),c.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},c.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},c.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},c.prototype.readData=function(s){this.checkOffset(s);var h=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,h},v.exports=c},{"../utils":32,"./DataReader":18}],21:[function(x,v,k){var a=x("./ArrayReader");function c(s){a.call(this,s)}x("../utils").inherits(c,a),c.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,h},v.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(x,v,k){var a=x("../utils"),c=x("../support"),s=x("./ArrayReader"),h=x("./StringReader"),f=x("./NodeBufferReader"),_=x("./Uint8ArrayReader");v.exports=function(w){var g=a.getTypeOf(w);return a.checkSupport(g),g!=="string"||c.uint8array?g==="nodebuffer"?new f(w):c.uint8array?new _(a.transformTo("uint8array",w)):new s(a.transformTo("array",w)):new h(w)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(x,v,k){k.LOCAL_FILE_HEADER="PK",k.CENTRAL_FILE_HEADER="PK",k.CENTRAL_DIRECTORY_END="PK",k.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",k.ZIP64_CENTRAL_DIRECTORY_END="PK",k.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(x,v,k){var a=x("./GenericWorker"),c=x("../utils");function s(h){a.call(this,"ConvertWorker to "+h),this.destType=h}c.inherits(s,a),s.prototype.processChunk=function(h){this.push({data:c.transformTo(this.destType,h.data),meta:h.meta})},v.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(x,v,k){var a=x("./GenericWorker"),c=x("../crc32");function s(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}x("../utils").inherits(s,a),s.prototype.processChunk=function(h){this.streamInfo.crc32=c(h.data,this.streamInfo.crc32||0),this.push(h)},v.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(x,v,k){var a=x("../utils"),c=x("./GenericWorker");function s(h){c.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}a.inherits(s,c),s.prototype.processChunk=function(h){if(h){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+h.data.length}c.prototype.processChunk.call(this,h)},v.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(x,v,k){var a=x("../utils"),c=x("./GenericWorker");function s(h){c.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(_){f.dataIsReady=!0,f.data=_,f.max=_&&_.length||0,f.type=a.getTypeOf(_),f.isPaused||f._tickAndRepeat()},function(_){f.error(_)})}a.inherits(s,c),s.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,f);break;case"uint8array":h=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":h=this.data.slice(this.index,f)}return this.index=f,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},v.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(x,v,k){function a(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,s){return this._listeners[c].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,s){if(this._listeners[c])for(var h=0;h<this._listeners[c].length;h++)this._listeners[c][h].call(this,s)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var s=this;return c.on("data",function(h){s.processChunk(h)}),c.on("end",function(){s.end()}),c.on("error",function(h){s.error(h)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,s){return this.extraStreamInfo[c]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},v.exports=a},{}],29:[function(x,v,k){var a=x("../utils"),c=x("./ConvertWorker"),s=x("./GenericWorker"),h=x("../base64"),f=x("../support"),_=x("../external"),w=null;if(f.nodestream)try{w=x("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(m,n){return new _.Promise(function(u,d){var b=[],z=m._internalType,C=m._outputType,S=m._mimeType;m.on("data",function(L,T){b.push(L),n&&n(T)}).on("error",function(L){b=[],d(L)}).on("end",function(){try{var L=function(T,U,O){switch(T){case"blob":return a.newBlob(a.transformTo("arraybuffer",U),O);case"base64":return h.encode(U);default:return a.transformTo(T,U)}}(C,function(T,U){var O,$=0,V=null,y=0;for(O=0;O<U.length;O++)y+=U[O].length;switch(T){case"string":return U.join("");case"array":return Array.prototype.concat.apply([],U);case"uint8array":for(V=new Uint8Array(y),O=0;O<U.length;O++)V.set(U[O],$),$+=U[O].length;return V;case"nodebuffer":return Buffer.concat(U);default:throw new Error("concat : unsupported type '"+T+"'")}}(z,b),S);u(L)}catch(T){d(T)}b=[]}).resume()})}function i(m,n,u){var d=n;switch(n){case"blob":case"arraybuffer":d="uint8array";break;case"base64":d="string"}try{this._internalType=d,this._outputType=n,this._mimeType=u,a.checkSupport(d),this._worker=m.pipe(new c(d)),m.lock()}catch(b){this._worker=new s("error"),this._worker.error(b)}}i.prototype={accumulate:function(m){return g(this,m)},on:function(m,n){var u=this;return m==="data"?this._worker.on(m,function(d){n.call(u,d.data,d.meta)}):this._worker.on(m,function(){a.delay(n,arguments,u)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(m){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new w(this,{objectMode:this._outputType!=="nodebuffer"},m)}},v.exports=i},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(x,v,k){if(k.base64=!0,k.array=!0,k.string=!0,k.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",k.nodebuffer=typeof Buffer<"u",k.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")k.blob=!1;else{var a=new ArrayBuffer(0);try{k.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(a),k.blob=c.getBlob("application/zip").size===0}catch{k.blob=!1}}}try{k.nodestream=!!x("readable-stream").Readable}catch{k.nodestream=!1}},{"readable-stream":16}],31:[function(x,v,k){for(var a=x("./utils"),c=x("./support"),s=x("./nodejsUtils"),h=x("./stream/GenericWorker"),f=new Array(256),_=0;_<256;_++)f[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;f[254]=f[254]=1;function w(){h.call(this,"utf-8 decode"),this.leftOver=null}function g(){h.call(this,"utf-8 encode")}k.utf8encode=function(i){return c.nodebuffer?s.newBufferFrom(i,"utf-8"):function(m){var n,u,d,b,z,C=m.length,S=0;for(b=0;b<C;b++)(64512&(u=m.charCodeAt(b)))==55296&&b+1<C&&(64512&(d=m.charCodeAt(b+1)))==56320&&(u=65536+(u-55296<<10)+(d-56320),b++),S+=u<128?1:u<2048?2:u<65536?3:4;for(n=c.uint8array?new Uint8Array(S):new Array(S),b=z=0;z<S;b++)(64512&(u=m.charCodeAt(b)))==55296&&b+1<C&&(64512&(d=m.charCodeAt(b+1)))==56320&&(u=65536+(u-55296<<10)+(d-56320),b++),u<128?n[z++]=u:(u<2048?n[z++]=192|u>>>6:(u<65536?n[z++]=224|u>>>12:(n[z++]=240|u>>>18,n[z++]=128|u>>>12&63),n[z++]=128|u>>>6&63),n[z++]=128|63&u);return n}(i)},k.utf8decode=function(i){return c.nodebuffer?a.transformTo("nodebuffer",i).toString("utf-8"):function(m){var n,u,d,b,z=m.length,C=new Array(2*z);for(n=u=0;n<z;)if((d=m[n++])<128)C[u++]=d;else if(4<(b=f[d]))C[u++]=65533,n+=b-1;else{for(d&=b===2?31:b===3?15:7;1<b&&n<z;)d=d<<6|63&m[n++],b--;1<b?C[u++]=65533:d<65536?C[u++]=d:(d-=65536,C[u++]=55296|d>>10&1023,C[u++]=56320|1023&d)}return C.length!==u&&(C.subarray?C=C.subarray(0,u):C.length=u),a.applyFromCharCode(C)}(i=a.transformTo(c.uint8array?"uint8array":"array",i))},a.inherits(w,h),w.prototype.processChunk=function(i){var m=a.transformTo(c.uint8array?"uint8array":"array",i.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var n=m;(m=new Uint8Array(n.length+this.leftOver.length)).set(this.leftOver,0),m.set(n,this.leftOver.length)}else m=this.leftOver.concat(m);this.leftOver=null}var u=function(b,z){var C;for((z=z||b.length)>b.length&&(z=b.length),C=z-1;0<=C&&(192&b[C])==128;)C--;return C<0||C===0?z:C+f[b[C]]>z?C:z}(m),d=m;u!==m.length&&(c.uint8array?(d=m.subarray(0,u),this.leftOver=m.subarray(u,m.length)):(d=m.slice(0,u),this.leftOver=m.slice(u,m.length))),this.push({data:k.utf8decode(d),meta:i.meta})},w.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:k.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},k.Utf8DecodeWorker=w,a.inherits(g,h),g.prototype.processChunk=function(i){this.push({data:k.utf8encode(i.data),meta:i.meta})},k.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(x,v,k){var a=x("./support"),c=x("./base64"),s=x("./nodejsUtils"),h=x("./external");function f(n){return n}function _(n,u){for(var d=0;d<n.length;++d)u[d]=255&n.charCodeAt(d);return u}x("setimmediate"),k.newBlob=function(n,u){k.checkSupport("blob");try{return new Blob([n],{type:u})}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return d.append(n),d.getBlob(u)}catch{throw new Error("Bug : can't construct the Blob.")}}};var w={stringifyByChunk:function(n,u,d){var b=[],z=0,C=n.length;if(C<=d)return String.fromCharCode.apply(null,n);for(;z<C;)u==="array"||u==="nodebuffer"?b.push(String.fromCharCode.apply(null,n.slice(z,Math.min(z+d,C)))):b.push(String.fromCharCode.apply(null,n.subarray(z,Math.min(z+d,C)))),z+=d;return b.join("")},stringifyByChar:function(n){for(var u="",d=0;d<n.length;d++)u+=String.fromCharCode(n[d]);return u},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function g(n){var u=65536,d=k.getTypeOf(n),b=!0;if(d==="uint8array"?b=w.applyCanBeUsed.uint8array:d==="nodebuffer"&&(b=w.applyCanBeUsed.nodebuffer),b)for(;1<u;)try{return w.stringifyByChunk(n,d,u)}catch{u=Math.floor(u/2)}return w.stringifyByChar(n)}function i(n,u){for(var d=0;d<n.length;d++)u[d]=n[d];return u}k.applyFromCharCode=g;var m={};m.string={string:f,array:function(n){return _(n,new Array(n.length))},arraybuffer:function(n){return m.string.uint8array(n).buffer},uint8array:function(n){return _(n,new Uint8Array(n.length))},nodebuffer:function(n){return _(n,s.allocBuffer(n.length))}},m.array={string:g,array:f,arraybuffer:function(n){return new Uint8Array(n).buffer},uint8array:function(n){return new Uint8Array(n)},nodebuffer:function(n){return s.newBufferFrom(n)}},m.arraybuffer={string:function(n){return g(new Uint8Array(n))},array:function(n){return i(new Uint8Array(n),new Array(n.byteLength))},arraybuffer:f,uint8array:function(n){return new Uint8Array(n)},nodebuffer:function(n){return s.newBufferFrom(new Uint8Array(n))}},m.uint8array={string:g,array:function(n){return i(n,new Array(n.length))},arraybuffer:function(n){return n.buffer},uint8array:f,nodebuffer:function(n){return s.newBufferFrom(n)}},m.nodebuffer={string:g,array:function(n){return i(n,new Array(n.length))},arraybuffer:function(n){return m.nodebuffer.uint8array(n).buffer},uint8array:function(n){return i(n,new Uint8Array(n.length))},nodebuffer:f},k.transformTo=function(n,u){if(u=u||"",!n)return u;k.checkSupport(n);var d=k.getTypeOf(u);return m[d][n](u)},k.resolve=function(n){for(var u=n.split("/"),d=[],b=0;b<u.length;b++){var z=u[b];z==="."||z===""&&b!==0&&b!==u.length-1||(z===".."?d.pop():d.push(z))}return d.join("/")},k.getTypeOf=function(n){return typeof n=="string"?"string":Object.prototype.toString.call(n)==="[object Array]"?"array":a.nodebuffer&&s.isBuffer(n)?"nodebuffer":a.uint8array&&n instanceof Uint8Array?"uint8array":a.arraybuffer&&n instanceof ArrayBuffer?"arraybuffer":void 0},k.checkSupport=function(n){if(!a[n.toLowerCase()])throw new Error(n+" is not supported by this platform")},k.MAX_VALUE_16BITS=65535,k.MAX_VALUE_32BITS=-1,k.pretty=function(n){var u,d,b="";for(d=0;d<(n||"").length;d++)b+="\\x"+((u=n.charCodeAt(d))<16?"0":"")+u.toString(16).toUpperCase();return b},k.delay=function(n,u,d){setImmediate(function(){n.apply(d||null,u||[])})},k.inherits=function(n,u){function d(){}d.prototype=u.prototype,n.prototype=new d},k.extend=function(){var n,u,d={};for(n=0;n<arguments.length;n++)for(u in arguments[n])Object.prototype.hasOwnProperty.call(arguments[n],u)&&d[u]===void 0&&(d[u]=arguments[n][u]);return d},k.prepareContent=function(n,u,d,b,z){return h.Promise.resolve(u).then(function(C){return a.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new h.Promise(function(S,L){var T=new FileReader;T.onload=function(U){S(U.target.result)},T.onerror=function(U){L(U.target.error)},T.readAsArrayBuffer(C)}):C}).then(function(C){var S=k.getTypeOf(C);return S?(S==="arraybuffer"?C=k.transformTo("uint8array",C):S==="string"&&(z?C=c.decode(C):d&&b!==!0&&(C=function(L){return _(L,a.uint8array?new Uint8Array(L.length):new Array(L.length))}(C))),C):h.Promise.reject(new Error("Can't read the data of '"+n+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(x,v,k){var a=x("./reader/readerFor"),c=x("./utils"),s=x("./signature"),h=x("./zipEntry"),f=x("./support");function _(w){this.files=[],this.loadOptions=w}_.prototype={checkSignature:function(w){if(!this.reader.readAndCheckSignature(w)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(g)+", expected "+c.pretty(w)+")")}},isSignature:function(w,g){var i=this.reader.index;this.reader.setIndex(w);var m=this.reader.readString(4)===g;return this.reader.setIndex(i),m},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var w=this.reader.readData(this.zipCommentLength),g=f.uint8array?"uint8array":"array",i=c.transformTo(g,w);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var w,g,i,m=this.zip64EndOfCentralSize-44;0<m;)w=this.reader.readInt(2),g=this.reader.readInt(4),i=this.reader.readData(g),this.zip64ExtensibleData[w]={id:w,length:g,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var w,g;for(w=0;w<this.files.length;w++)g=this.files[w],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var w;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(w=new h({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(w);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var w=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(w<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(w);var g=w;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(w=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(w),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var m=g-i;if(0<m)this.isSignature(g,s.CENTRAL_FILE_HEADER)||(this.reader.zero=m);else if(m<0)throw new Error("Corrupted zip: missing "+Math.abs(m)+" bytes.")},prepareReader:function(w){this.reader=a(w)},load:function(w){this.prepareReader(w),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},v.exports=_},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(x,v,k){var a=x("./reader/readerFor"),c=x("./utils"),s=x("./compressedObject"),h=x("./crc32"),f=x("./utf8"),_=x("./compressions"),w=x("./support");function g(i,m){this.options=i,this.loadOptions=m}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(i){var m,n;if(i.skip(22),this.fileNameLength=i.readInt(2),n=i.readInt(2),this.fileName=i.readData(this.fileNameLength),i.skip(n),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((m=function(u){for(var d in _)if(Object.prototype.hasOwnProperty.call(_,d)&&_[d].magic===u)return _[d];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,m,i.readData(this.compressedSize))},readCentralPart:function(i){this.versionMadeBy=i.readInt(2),i.skip(2),this.bitFlag=i.readInt(2),this.compressionMethod=i.readString(2),this.date=i.readDate(),this.crc32=i.readInt(4),this.compressedSize=i.readInt(4),this.uncompressedSize=i.readInt(4);var m=i.readInt(2);if(this.extraFieldsLength=i.readInt(2),this.fileCommentLength=i.readInt(2),this.diskNumberStart=i.readInt(2),this.internalFileAttributes=i.readInt(2),this.externalFileAttributes=i.readInt(4),this.localHeaderOffset=i.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");i.skip(m),this.readExtraFields(i),this.parseZIP64ExtraField(i),this.fileComment=i.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var i=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),i==0&&(this.dosPermissions=63&this.externalFileAttributes),i==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var i=a(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=i.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=i.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=i.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=i.readInt(4))}},readExtraFields:function(i){var m,n,u,d=i.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});i.index+4<d;)m=i.readInt(2),n=i.readInt(2),u=i.readData(n),this.extraFields[m]={id:m,length:n,value:u};i.setIndex(d)},handleUTF8:function(){var i=w.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var m=this.findExtraFieldUnicodePath();if(m!==null)this.fileNameStr=m;else{var n=c.transformTo(i,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var u=this.findExtraFieldUnicodeComment();if(u!==null)this.fileCommentStr=u;else{var d=c.transformTo(i,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(d)}}},findExtraFieldUnicodePath:function(){var i=this.extraFields[28789];if(i){var m=a(i.value);return m.readInt(1)!==1||h(this.fileName)!==m.readInt(4)?null:f.utf8decode(m.readData(i.length-5))}return null},findExtraFieldUnicodeComment:function(){var i=this.extraFields[25461];if(i){var m=a(i.value);return m.readInt(1)!==1||h(this.fileComment)!==m.readInt(4)?null:f.utf8decode(m.readData(i.length-5))}return null}},v.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(x,v,k){function a(m,n,u){this.name=m,this.dir=u.dir,this.date=u.date,this.comment=u.comment,this.unixPermissions=u.unixPermissions,this.dosPermissions=u.dosPermissions,this._data=n,this._dataBinary=u.binary,this.options={compression:u.compression,compressionOptions:u.compressionOptions}}var c=x("./stream/StreamHelper"),s=x("./stream/DataWorker"),h=x("./utf8"),f=x("./compressedObject"),_=x("./stream/GenericWorker");a.prototype={internalStream:function(m){var n=null,u="string";try{if(!m)throw new Error("No output type specified.");var d=(u=m.toLowerCase())==="string"||u==="text";u!=="binarystring"&&u!=="text"||(u="string"),n=this._decompressWorker();var b=!this._dataBinary;b&&!d&&(n=n.pipe(new h.Utf8EncodeWorker)),!b&&d&&(n=n.pipe(new h.Utf8DecodeWorker))}catch(z){(n=new _("error")).error(z)}return new c(n,u,"")},async:function(m,n){return this.internalStream(m).accumulate(n)},nodeStream:function(m,n){return this.internalStream(m||"nodebuffer").toNodejsStream(n)},_compressWorker:function(m,n){if(this._data instanceof f&&this._data.compression.magic===m.magic)return this._data.getCompressedWorker();var u=this._decompressWorker();return this._dataBinary||(u=u.pipe(new h.Utf8EncodeWorker)),f.createWorkerFrom(u,m,n)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof _?this._data:new s(this._data)}};for(var w=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},i=0;i<w.length;i++)a.prototype[w[i]]=g;v.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(x,v,k){(function(a){var c,s,h=a.MutationObserver||a.WebKitMutationObserver;if(h){var f=0,_=new h(m),w=a.document.createTextNode("");_.observe(w,{characterData:!0}),c=function(){w.data=f=++f%2}}else if(a.setImmediate||a.MessageChannel===void 0)c="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var n=a.document.createElement("script");n.onreadystatechange=function(){m(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},a.document.documentElement.appendChild(n)}:function(){setTimeout(m,0)};else{var g=new a.MessageChannel;g.port1.onmessage=m,c=function(){g.port2.postMessage(0)}}var i=[];function m(){var n,u;s=!0;for(var d=i.length;d;){for(u=i,i=[],n=-1;++n<d;)u[n]();d=i.length}s=!1}v.exports=function(n){i.push(n)!==1||s||c()}}).call(this,typeof ye<"u"?ye:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(x,v,k){var a=x("immediate");function c(){}var s={},h=["REJECTED"],f=["FULFILLED"],_=["PENDING"];function w(d){if(typeof d!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,d!==c&&n(this,d)}function g(d,b,z){this.promise=d,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof z=="function"&&(this.onRejected=z,this.callRejected=this.otherCallRejected)}function i(d,b,z){a(function(){var C;try{C=b(z)}catch(S){return s.reject(d,S)}C===d?s.reject(d,new TypeError("Cannot resolve promise with itself")):s.resolve(d,C)})}function m(d){var b=d&&d.then;if(d&&(typeof d=="object"||typeof d=="function")&&typeof b=="function")return function(){b.apply(d,arguments)}}function n(d,b){var z=!1;function C(T){z||(z=!0,s.reject(d,T))}function S(T){z||(z=!0,s.resolve(d,T))}var L=u(function(){b(S,C)});L.status==="error"&&C(L.value)}function u(d,b){var z={};try{z.value=d(b),z.status="success"}catch(C){z.status="error",z.value=C}return z}(v.exports=w).prototype.finally=function(d){if(typeof d!="function")return this;var b=this.constructor;return this.then(function(z){return b.resolve(d()).then(function(){return z})},function(z){return b.resolve(d()).then(function(){throw z})})},w.prototype.catch=function(d){return this.then(null,d)},w.prototype.then=function(d,b){if(typeof d!="function"&&this.state===f||typeof b!="function"&&this.state===h)return this;var z=new this.constructor(c);return this.state!==_?i(z,this.state===f?d:b,this.outcome):this.queue.push(new g(z,d,b)),z},g.prototype.callFulfilled=function(d){s.resolve(this.promise,d)},g.prototype.otherCallFulfilled=function(d){i(this.promise,this.onFulfilled,d)},g.prototype.callRejected=function(d){s.reject(this.promise,d)},g.prototype.otherCallRejected=function(d){i(this.promise,this.onRejected,d)},s.resolve=function(d,b){var z=u(m,b);if(z.status==="error")return s.reject(d,z.value);var C=z.value;if(C)n(d,C);else{d.state=f,d.outcome=b;for(var S=-1,L=d.queue.length;++S<L;)d.queue[S].callFulfilled(b)}return d},s.reject=function(d,b){d.state=h,d.outcome=b;for(var z=-1,C=d.queue.length;++z<C;)d.queue[z].callRejected(b);return d},w.resolve=function(d){return d instanceof this?d:s.resolve(new this(c),d)},w.reject=function(d){var b=new this(c);return s.reject(b,d)},w.all=function(d){var b=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=d.length,C=!1;if(!z)return this.resolve([]);for(var S=new Array(z),L=0,T=-1,U=new this(c);++T<z;)O(d[T],T);return U;function O($,V){b.resolve($).then(function(y){S[V]=y,++L!==z||C||(C=!0,s.resolve(U,S))},function(y){C||(C=!0,s.reject(U,y))})}},w.race=function(d){var b=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=d.length,C=!1;if(!z)return this.resolve([]);for(var S=-1,L=new this(c);++S<z;)T=d[S],b.resolve(T).then(function(U){C||(C=!0,s.resolve(L,U))},function(U){C||(C=!0,s.reject(L,U))});var T;return L}},{immediate:36}],38:[function(x,v,k){var a={};(0,x("./lib/utils/common").assign)(a,x("./lib/deflate"),x("./lib/inflate"),x("./lib/zlib/constants")),v.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(x,v,k){var a=x("./zlib/deflate"),c=x("./utils/common"),s=x("./utils/strings"),h=x("./zlib/messages"),f=x("./zlib/zstream"),_=Object.prototype.toString,w=0,g=-1,i=0,m=8;function n(d){if(!(this instanceof n))return new n(d);this.options=c.assign({level:g,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:i,to:""},d||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var z=a.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(z!==w)throw new Error(h[z]);if(b.header&&a.deflateSetHeader(this.strm,b.header),b.dictionary){var C;if(C=typeof b.dictionary=="string"?s.string2buf(b.dictionary):_.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(z=a.deflateSetDictionary(this.strm,C))!==w)throw new Error(h[z]);this._dict_set=!0}}function u(d,b){var z=new n(b);if(z.push(d,!0),z.err)throw z.msg||h[z.err];return z.result}n.prototype.push=function(d,b){var z,C,S=this.strm,L=this.options.chunkSize;if(this.ended)return!1;C=b===~~b?b:b===!0?4:0,typeof d=="string"?S.input=s.string2buf(d):_.call(d)==="[object ArrayBuffer]"?S.input=new Uint8Array(d):S.input=d,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new c.Buf8(L),S.next_out=0,S.avail_out=L),(z=a.deflate(S,C))!==1&&z!==w)return this.onEnd(z),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(c.shrinkBuf(S.output,S.next_out))):this.onData(c.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&z!==1);return C===4?(z=a.deflateEnd(this.strm),this.onEnd(z),this.ended=!0,z===w):C!==2||(this.onEnd(w),!(S.avail_out=0))},n.prototype.onData=function(d){this.chunks.push(d)},n.prototype.onEnd=function(d){d===w&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},k.Deflate=n,k.deflate=u,k.deflateRaw=function(d,b){return(b=b||{}).raw=!0,u(d,b)},k.gzip=function(d,b){return(b=b||{}).gzip=!0,u(d,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(x,v,k){var a=x("./zlib/inflate"),c=x("./utils/common"),s=x("./utils/strings"),h=x("./zlib/constants"),f=x("./zlib/messages"),_=x("./zlib/zstream"),w=x("./zlib/gzheader"),g=Object.prototype.toString;function i(n){if(!(this instanceof i))return new i(n);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},n||{});var u=this.options;u.raw&&0<=u.windowBits&&u.windowBits<16&&(u.windowBits=-u.windowBits,u.windowBits===0&&(u.windowBits=-15)),!(0<=u.windowBits&&u.windowBits<16)||n&&n.windowBits||(u.windowBits+=32),15<u.windowBits&&u.windowBits<48&&(15&u.windowBits)==0&&(u.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var d=a.inflateInit2(this.strm,u.windowBits);if(d!==h.Z_OK)throw new Error(f[d]);this.header=new w,a.inflateGetHeader(this.strm,this.header)}function m(n,u){var d=new i(u);if(d.push(n,!0),d.err)throw d.msg||f[d.err];return d.result}i.prototype.push=function(n,u){var d,b,z,C,S,L,T=this.strm,U=this.options.chunkSize,O=this.options.dictionary,$=!1;if(this.ended)return!1;b=u===~~u?u:u===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof n=="string"?T.input=s.binstring2buf(n):g.call(n)==="[object ArrayBuffer]"?T.input=new Uint8Array(n):T.input=n,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new c.Buf8(U),T.next_out=0,T.avail_out=U),(d=a.inflate(T,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&O&&(L=typeof O=="string"?s.string2buf(O):g.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,d=a.inflateSetDictionary(this.strm,L)),d===h.Z_BUF_ERROR&&$===!0&&(d=h.Z_OK,$=!1),d!==h.Z_STREAM_END&&d!==h.Z_OK)return this.onEnd(d),!(this.ended=!0);T.next_out&&(T.avail_out!==0&&d!==h.Z_STREAM_END&&(T.avail_in!==0||b!==h.Z_FINISH&&b!==h.Z_SYNC_FLUSH)||(this.options.to==="string"?(z=s.utf8border(T.output,T.next_out),C=T.next_out-z,S=s.buf2string(T.output,z),T.next_out=C,T.avail_out=U-C,C&&c.arraySet(T.output,T.output,z,C,0),this.onData(S)):this.onData(c.shrinkBuf(T.output,T.next_out)))),T.avail_in===0&&T.avail_out===0&&($=!0)}while((0<T.avail_in||T.avail_out===0)&&d!==h.Z_STREAM_END);return d===h.Z_STREAM_END&&(b=h.Z_FINISH),b===h.Z_FINISH?(d=a.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===h.Z_OK):b!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(T.avail_out=0))},i.prototype.onData=function(n){this.chunks.push(n)},i.prototype.onEnd=function(n){n===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg},k.Inflate=i,k.inflate=m,k.inflateRaw=function(n,u){return(u=u||{}).raw=!0,m(n,u)},k.ungzip=m},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(x,v,k){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";k.assign=function(h){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var _=f.shift();if(_){if(typeof _!="object")throw new TypeError(_+"must be non-object");for(var w in _)_.hasOwnProperty(w)&&(h[w]=_[w])}}return h},k.shrinkBuf=function(h,f){return h.length===f?h:h.subarray?h.subarray(0,f):(h.length=f,h)};var c={arraySet:function(h,f,_,w,g){if(f.subarray&&h.subarray)h.set(f.subarray(_,_+w),g);else for(var i=0;i<w;i++)h[g+i]=f[_+i]},flattenChunks:function(h){var f,_,w,g,i,m;for(f=w=0,_=h.length;f<_;f++)w+=h[f].length;for(m=new Uint8Array(w),f=g=0,_=h.length;f<_;f++)i=h[f],m.set(i,g),g+=i.length;return m}},s={arraySet:function(h,f,_,w,g){for(var i=0;i<w;i++)h[g+i]=f[_+i]},flattenChunks:function(h){return[].concat.apply([],h)}};k.setTyped=function(h){h?(k.Buf8=Uint8Array,k.Buf16=Uint16Array,k.Buf32=Int32Array,k.assign(k,c)):(k.Buf8=Array,k.Buf16=Array,k.Buf32=Array,k.assign(k,s))},k.setTyped(a)},{}],42:[function(x,v,k){var a=x("./common"),c=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var h=new a.Buf8(256),f=0;f<256;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function _(w,g){if(g<65537&&(w.subarray&&s||!w.subarray&&c))return String.fromCharCode.apply(null,a.shrinkBuf(w,g));for(var i="",m=0;m<g;m++)i+=String.fromCharCode(w[m]);return i}h[254]=h[254]=1,k.string2buf=function(w){var g,i,m,n,u,d=w.length,b=0;for(n=0;n<d;n++)(64512&(i=w.charCodeAt(n)))==55296&&n+1<d&&(64512&(m=w.charCodeAt(n+1)))==56320&&(i=65536+(i-55296<<10)+(m-56320),n++),b+=i<128?1:i<2048?2:i<65536?3:4;for(g=new a.Buf8(b),n=u=0;u<b;n++)(64512&(i=w.charCodeAt(n)))==55296&&n+1<d&&(64512&(m=w.charCodeAt(n+1)))==56320&&(i=65536+(i-55296<<10)+(m-56320),n++),i<128?g[u++]=i:(i<2048?g[u++]=192|i>>>6:(i<65536?g[u++]=224|i>>>12:(g[u++]=240|i>>>18,g[u++]=128|i>>>12&63),g[u++]=128|i>>>6&63),g[u++]=128|63&i);return g},k.buf2binstring=function(w){return _(w,w.length)},k.binstring2buf=function(w){for(var g=new a.Buf8(w.length),i=0,m=g.length;i<m;i++)g[i]=w.charCodeAt(i);return g},k.buf2string=function(w,g){var i,m,n,u,d=g||w.length,b=new Array(2*d);for(i=m=0;i<d;)if((n=w[i++])<128)b[m++]=n;else if(4<(u=h[n]))b[m++]=65533,i+=u-1;else{for(n&=u===2?31:u===3?15:7;1<u&&i<d;)n=n<<6|63&w[i++],u--;1<u?b[m++]=65533:n<65536?b[m++]=n:(n-=65536,b[m++]=55296|n>>10&1023,b[m++]=56320|1023&n)}return _(b,m)},k.utf8border=function(w,g){var i;for((g=g||w.length)>w.length&&(g=w.length),i=g-1;0<=i&&(192&w[i])==128;)i--;return i<0||i===0?g:i+h[w[i]]>g?i:g}},{"./common":41}],43:[function(x,v,k){v.exports=function(a,c,s,h){for(var f=65535&a|0,_=a>>>16&65535|0,w=0;s!==0;){for(s-=w=2e3<s?2e3:s;_=_+(f=f+c[h++]|0)|0,--w;);f%=65521,_%=65521}return f|_<<16|0}},{}],44:[function(x,v,k){v.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(x,v,k){var a=function(){for(var c,s=[],h=0;h<256;h++){c=h;for(var f=0;f<8;f++)c=1&c?3988292384^c>>>1:c>>>1;s[h]=c}return s}();v.exports=function(c,s,h,f){var _=a,w=f+h;c^=-1;for(var g=f;g<w;g++)c=c>>>8^_[255&(c^s[g])];return-1^c}},{}],46:[function(x,v,k){var a,c=x("../utils/common"),s=x("./trees"),h=x("./adler32"),f=x("./crc32"),_=x("./messages"),w=0,g=4,i=0,m=-2,n=-1,u=4,d=2,b=8,z=9,C=286,S=30,L=19,T=2*C+1,U=15,O=3,$=258,V=$+O+1,y=42,B=113,r=1,E=2,K=3,M=4;function te(e,F){return e.msg=_[F],F}function W(e){return(e<<1)-(4<e?9:0)}function ee(e){for(var F=e.length;0<=--F;)e[F]=0}function I(e){var F=e.state,p=F.pending;p>e.avail_out&&(p=e.avail_out),p!==0&&(c.arraySet(e.output,F.pending_buf,F.pending_out,p,e.next_out),e.next_out+=p,F.pending_out+=p,e.total_out+=p,e.avail_out-=p,F.pending-=p,F.pending===0&&(F.pending_out=0))}function A(e,F){s._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,F),e.block_start=e.strstart,I(e.strm)}function Q(e,F){e.pending_buf[e.pending++]=F}function X(e,F){e.pending_buf[e.pending++]=F>>>8&255,e.pending_buf[e.pending++]=255&F}function G(e,F){var p,l,o=e.max_chain_length,j=e.strstart,R=e.prev_length,P=e.nice_match,N=e.strstart>e.w_size-V?e.strstart-(e.w_size-V):0,D=e.window,Y=e.w_mask,Z=e.prev,J=e.strstart+$,ae=D[j+R-1],se=D[j+R];e.prev_length>=e.good_match&&(o>>=2),P>e.lookahead&&(P=e.lookahead);do if(D[(p=F)+R]===se&&D[p+R-1]===ae&&D[p]===D[j]&&D[++p]===D[j+1]){j+=2,p++;do;while(D[++j]===D[++p]&&D[++j]===D[++p]&&D[++j]===D[++p]&&D[++j]===D[++p]&&D[++j]===D[++p]&&D[++j]===D[++p]&&D[++j]===D[++p]&&D[++j]===D[++p]&&j<J);if(l=$-(J-j),j=J-$,R<l){if(e.match_start=F,P<=(R=l))break;ae=D[j+R-1],se=D[j+R]}}while((F=Z[F&Y])>N&&--o!=0);return R<=e.lookahead?R:e.lookahead}function le(e){var F,p,l,o,j,R,P,N,D,Y,Z=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=Z+(Z-V)){for(c.arraySet(e.window,e.window,Z,Z,0),e.match_start-=Z,e.strstart-=Z,e.block_start-=Z,F=p=e.hash_size;l=e.head[--F],e.head[F]=Z<=l?l-Z:0,--p;);for(F=p=Z;l=e.prev[--F],e.prev[F]=Z<=l?l-Z:0,--p;);o+=Z}if(e.strm.avail_in===0)break;if(R=e.strm,P=e.window,N=e.strstart+e.lookahead,D=o,Y=void 0,Y=R.avail_in,D<Y&&(Y=D),p=Y===0?0:(R.avail_in-=Y,c.arraySet(P,R.input,R.next_in,Y,N),R.state.wrap===1?R.adler=h(R.adler,P,Y,N):R.state.wrap===2&&(R.adler=f(R.adler,P,Y,N)),R.next_in+=Y,R.total_in+=Y,Y),e.lookahead+=p,e.lookahead+e.insert>=O)for(j=e.strstart-e.insert,e.ins_h=e.window[j],e.ins_h=(e.ins_h<<e.hash_shift^e.window[j+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[j+O-1])&e.hash_mask,e.prev[j&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=j,j++,e.insert--,!(e.lookahead+e.insert<O)););}while(e.lookahead<V&&e.strm.avail_in!==0)}function fe(e,F){for(var p,l;;){if(e.lookahead<V){if(le(e),e.lookahead<V&&F===w)return r;if(e.lookahead===0)break}if(p=0,e.lookahead>=O&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+O-1])&e.hash_mask,p=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),p!==0&&e.strstart-p<=e.w_size-V&&(e.match_length=G(e,p)),e.match_length>=O)if(l=s._tr_tally(e,e.strstart-e.match_start,e.match_length-O),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=O){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+O-1])&e.hash_mask,p=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,--e.match_length!=0;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else l=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(l&&(A(e,!1),e.strm.avail_out===0))return r}return e.insert=e.strstart<O-1?e.strstart:O-1,F===g?(A(e,!0),e.strm.avail_out===0?K:M):e.last_lit&&(A(e,!1),e.strm.avail_out===0)?r:E}function re(e,F){for(var p,l,o;;){if(e.lookahead<V){if(le(e),e.lookahead<V&&F===w)return r;if(e.lookahead===0)break}if(p=0,e.lookahead>=O&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+O-1])&e.hash_mask,p=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=O-1,p!==0&&e.prev_length<e.max_lazy_match&&e.strstart-p<=e.w_size-V&&(e.match_length=G(e,p),e.match_length<=5&&(e.strategy===1||e.match_length===O&&4096<e.strstart-e.match_start)&&(e.match_length=O-1)),e.prev_length>=O&&e.match_length<=e.prev_length){for(o=e.strstart+e.lookahead-O,l=s._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-O),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+O-1])&e.hash_mask,p=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),--e.prev_length!=0;);if(e.match_available=0,e.match_length=O-1,e.strstart++,l&&(A(e,!1),e.strm.avail_out===0))return r}else if(e.match_available){if((l=s._tr_tally(e,0,e.window[e.strstart-1]))&&A(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return r}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(l=s._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<O-1?e.strstart:O-1,F===g?(A(e,!0),e.strm.avail_out===0?K:M):e.last_lit&&(A(e,!1),e.strm.avail_out===0)?r:E}function ne(e,F,p,l,o){this.good_length=e,this.max_lazy=F,this.nice_length=p,this.max_chain=l,this.func=o}function he(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*T),this.dyn_dtree=new c.Buf16(2*(2*S+1)),this.bl_tree=new c.Buf16(2*(2*L+1)),ee(this.dyn_ltree),ee(this.dyn_dtree),ee(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(U+1),this.heap=new c.Buf16(2*C+1),ee(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*C+1),ee(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ce(e){var F;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=d,(F=e.state).pending=0,F.pending_out=0,F.wrap<0&&(F.wrap=-F.wrap),F.status=F.wrap?y:B,e.adler=F.wrap===2?0:1,F.last_flush=w,s._tr_init(F),i):te(e,m)}function ge(e){var F=ce(e);return F===i&&function(p){p.window_size=2*p.w_size,ee(p.head),p.max_lazy_match=a[p.level].max_lazy,p.good_match=a[p.level].good_length,p.nice_match=a[p.level].nice_length,p.max_chain_length=a[p.level].max_chain,p.strstart=0,p.block_start=0,p.lookahead=0,p.insert=0,p.match_length=p.prev_length=O-1,p.match_available=0,p.ins_h=0}(e.state),F}function me(e,F,p,l,o,j){if(!e)return m;var R=1;if(F===n&&(F=6),l<0?(R=0,l=-l):15<l&&(R=2,l-=16),o<1||z<o||p!==b||l<8||15<l||F<0||9<F||j<0||u<j)return te(e,m);l===8&&(l=9);var P=new he;return(e.state=P).strm=e,P.wrap=R,P.gzhead=null,P.w_bits=l,P.w_size=1<<P.w_bits,P.w_mask=P.w_size-1,P.hash_bits=o+7,P.hash_size=1<<P.hash_bits,P.hash_mask=P.hash_size-1,P.hash_shift=~~((P.hash_bits+O-1)/O),P.window=new c.Buf8(2*P.w_size),P.head=new c.Buf16(P.hash_size),P.prev=new c.Buf16(P.w_size),P.lit_bufsize=1<<o+6,P.pending_buf_size=4*P.lit_bufsize,P.pending_buf=new c.Buf8(P.pending_buf_size),P.d_buf=1*P.lit_bufsize,P.l_buf=3*P.lit_bufsize,P.level=F,P.strategy=j,P.method=p,ge(e)}a=[new ne(0,0,0,0,function(e,F){var p=65535;for(p>e.pending_buf_size-5&&(p=e.pending_buf_size-5);;){if(e.lookahead<=1){if(le(e),e.lookahead===0&&F===w)return r;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var l=e.block_start+p;if((e.strstart===0||e.strstart>=l)&&(e.lookahead=e.strstart-l,e.strstart=l,A(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-V&&(A(e,!1),e.strm.avail_out===0))return r}return e.insert=0,F===g?(A(e,!0),e.strm.avail_out===0?K:M):(e.strstart>e.block_start&&(A(e,!1),e.strm.avail_out),r)}),new ne(4,4,8,4,fe),new ne(4,5,16,8,fe),new ne(4,6,32,32,fe),new ne(4,4,16,16,re),new ne(8,16,32,32,re),new ne(8,16,128,128,re),new ne(8,32,128,256,re),new ne(32,128,258,1024,re),new ne(32,258,258,4096,re)],k.deflateInit=function(e,F){return me(e,F,b,15,8,0)},k.deflateInit2=me,k.deflateReset=ge,k.deflateResetKeep=ce,k.deflateSetHeader=function(e,F){return e&&e.state?e.state.wrap!==2?m:(e.state.gzhead=F,i):m},k.deflate=function(e,F){var p,l,o,j;if(!e||!e.state||5<F||F<0)return e?te(e,m):m;if(l=e.state,!e.output||!e.input&&e.avail_in!==0||l.status===666&&F!==g)return te(e,e.avail_out===0?-5:m);if(l.strm=e,p=l.last_flush,l.last_flush=F,l.status===y)if(l.wrap===2)e.adler=0,Q(l,31),Q(l,139),Q(l,8),l.gzhead?(Q(l,(l.gzhead.text?1:0)+(l.gzhead.hcrc?2:0)+(l.gzhead.extra?4:0)+(l.gzhead.name?8:0)+(l.gzhead.comment?16:0)),Q(l,255&l.gzhead.time),Q(l,l.gzhead.time>>8&255),Q(l,l.gzhead.time>>16&255),Q(l,l.gzhead.time>>24&255),Q(l,l.level===9?2:2<=l.strategy||l.level<2?4:0),Q(l,255&l.gzhead.os),l.gzhead.extra&&l.gzhead.extra.length&&(Q(l,255&l.gzhead.extra.length),Q(l,l.gzhead.extra.length>>8&255)),l.gzhead.hcrc&&(e.adler=f(e.adler,l.pending_buf,l.pending,0)),l.gzindex=0,l.status=69):(Q(l,0),Q(l,0),Q(l,0),Q(l,0),Q(l,0),Q(l,l.level===9?2:2<=l.strategy||l.level<2?4:0),Q(l,3),l.status=B);else{var R=b+(l.w_bits-8<<4)<<8;R|=(2<=l.strategy||l.level<2?0:l.level<6?1:l.level===6?2:3)<<6,l.strstart!==0&&(R|=32),R+=31-R%31,l.status=B,X(l,R),l.strstart!==0&&(X(l,e.adler>>>16),X(l,65535&e.adler)),e.adler=1}if(l.status===69)if(l.gzhead.extra){for(o=l.pending;l.gzindex<(65535&l.gzhead.extra.length)&&(l.pending!==l.pending_buf_size||(l.gzhead.hcrc&&l.pending>o&&(e.adler=f(e.adler,l.pending_buf,l.pending-o,o)),I(e),o=l.pending,l.pending!==l.pending_buf_size));)Q(l,255&l.gzhead.extra[l.gzindex]),l.gzindex++;l.gzhead.hcrc&&l.pending>o&&(e.adler=f(e.adler,l.pending_buf,l.pending-o,o)),l.gzindex===l.gzhead.extra.length&&(l.gzindex=0,l.status=73)}else l.status=73;if(l.status===73)if(l.gzhead.name){o=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>o&&(e.adler=f(e.adler,l.pending_buf,l.pending-o,o)),I(e),o=l.pending,l.pending===l.pending_buf_size)){j=1;break}j=l.gzindex<l.gzhead.name.length?255&l.gzhead.name.charCodeAt(l.gzindex++):0,Q(l,j)}while(j!==0);l.gzhead.hcrc&&l.pending>o&&(e.adler=f(e.adler,l.pending_buf,l.pending-o,o)),j===0&&(l.gzindex=0,l.status=91)}else l.status=91;if(l.status===91)if(l.gzhead.comment){o=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>o&&(e.adler=f(e.adler,l.pending_buf,l.pending-o,o)),I(e),o=l.pending,l.pending===l.pending_buf_size)){j=1;break}j=l.gzindex<l.gzhead.comment.length?255&l.gzhead.comment.charCodeAt(l.gzindex++):0,Q(l,j)}while(j!==0);l.gzhead.hcrc&&l.pending>o&&(e.adler=f(e.adler,l.pending_buf,l.pending-o,o)),j===0&&(l.status=103)}else l.status=103;if(l.status===103&&(l.gzhead.hcrc?(l.pending+2>l.pending_buf_size&&I(e),l.pending+2<=l.pending_buf_size&&(Q(l,255&e.adler),Q(l,e.adler>>8&255),e.adler=0,l.status=B)):l.status=B),l.pending!==0){if(I(e),e.avail_out===0)return l.last_flush=-1,i}else if(e.avail_in===0&&W(F)<=W(p)&&F!==g)return te(e,-5);if(l.status===666&&e.avail_in!==0)return te(e,-5);if(e.avail_in!==0||l.lookahead!==0||F!==w&&l.status!==666){var P=l.strategy===2?function(N,D){for(var Y;;){if(N.lookahead===0&&(le(N),N.lookahead===0)){if(D===w)return r;break}if(N.match_length=0,Y=s._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++,Y&&(A(N,!1),N.strm.avail_out===0))return r}return N.insert=0,D===g?(A(N,!0),N.strm.avail_out===0?K:M):N.last_lit&&(A(N,!1),N.strm.avail_out===0)?r:E}(l,F):l.strategy===3?function(N,D){for(var Y,Z,J,ae,se=N.window;;){if(N.lookahead<=$){if(le(N),N.lookahead<=$&&D===w)return r;if(N.lookahead===0)break}if(N.match_length=0,N.lookahead>=O&&0<N.strstart&&(Z=se[J=N.strstart-1])===se[++J]&&Z===se[++J]&&Z===se[++J]){ae=N.strstart+$;do;while(Z===se[++J]&&Z===se[++J]&&Z===se[++J]&&Z===se[++J]&&Z===se[++J]&&Z===se[++J]&&Z===se[++J]&&Z===se[++J]&&J<ae);N.match_length=$-(ae-J),N.match_length>N.lookahead&&(N.match_length=N.lookahead)}if(N.match_length>=O?(Y=s._tr_tally(N,1,N.match_length-O),N.lookahead-=N.match_length,N.strstart+=N.match_length,N.match_length=0):(Y=s._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++),Y&&(A(N,!1),N.strm.avail_out===0))return r}return N.insert=0,D===g?(A(N,!0),N.strm.avail_out===0?K:M):N.last_lit&&(A(N,!1),N.strm.avail_out===0)?r:E}(l,F):a[l.level].func(l,F);if(P!==K&&P!==M||(l.status=666),P===r||P===K)return e.avail_out===0&&(l.last_flush=-1),i;if(P===E&&(F===1?s._tr_align(l):F!==5&&(s._tr_stored_block(l,0,0,!1),F===3&&(ee(l.head),l.lookahead===0&&(l.strstart=0,l.block_start=0,l.insert=0))),I(e),e.avail_out===0))return l.last_flush=-1,i}return F!==g?i:l.wrap<=0?1:(l.wrap===2?(Q(l,255&e.adler),Q(l,e.adler>>8&255),Q(l,e.adler>>16&255),Q(l,e.adler>>24&255),Q(l,255&e.total_in),Q(l,e.total_in>>8&255),Q(l,e.total_in>>16&255),Q(l,e.total_in>>24&255)):(X(l,e.adler>>>16),X(l,65535&e.adler)),I(e),0<l.wrap&&(l.wrap=-l.wrap),l.pending!==0?i:1)},k.deflateEnd=function(e){var F;return e&&e.state?(F=e.state.status)!==y&&F!==69&&F!==73&&F!==91&&F!==103&&F!==B&&F!==666?te(e,m):(e.state=null,F===B?te(e,-3):i):m},k.deflateSetDictionary=function(e,F){var p,l,o,j,R,P,N,D,Y=F.length;if(!e||!e.state||(j=(p=e.state).wrap)===2||j===1&&p.status!==y||p.lookahead)return m;for(j===1&&(e.adler=h(e.adler,F,Y,0)),p.wrap=0,Y>=p.w_size&&(j===0&&(ee(p.head),p.strstart=0,p.block_start=0,p.insert=0),D=new c.Buf8(p.w_size),c.arraySet(D,F,Y-p.w_size,p.w_size,0),F=D,Y=p.w_size),R=e.avail_in,P=e.next_in,N=e.input,e.avail_in=Y,e.next_in=0,e.input=F,le(p);p.lookahead>=O;){for(l=p.strstart,o=p.lookahead-(O-1);p.ins_h=(p.ins_h<<p.hash_shift^p.window[l+O-1])&p.hash_mask,p.prev[l&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=l,l++,--o;);p.strstart=l,p.lookahead=O-1,le(p)}return p.strstart+=p.lookahead,p.block_start=p.strstart,p.insert=p.lookahead,p.lookahead=0,p.match_length=p.prev_length=O-1,p.match_available=0,e.next_in=P,e.input=N,e.avail_in=R,p.wrap=j,i},k.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(x,v,k){v.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(x,v,k){v.exports=function(a,c){var s,h,f,_,w,g,i,m,n,u,d,b,z,C,S,L,T,U,O,$,V,y,B,r,E;s=a.state,h=a.next_in,r=a.input,f=h+(a.avail_in-5),_=a.next_out,E=a.output,w=_-(c-a.avail_out),g=_+(a.avail_out-257),i=s.dmax,m=s.wsize,n=s.whave,u=s.wnext,d=s.window,b=s.hold,z=s.bits,C=s.lencode,S=s.distcode,L=(1<<s.lenbits)-1,T=(1<<s.distbits)-1;e:do{z<15&&(b+=r[h++]<<z,z+=8,b+=r[h++]<<z,z+=8),U=C[b&L];t:for(;;){if(b>>>=O=U>>>24,z-=O,(O=U>>>16&255)===0)E[_++]=65535&U;else{if(!(16&O)){if((64&O)==0){U=C[(65535&U)+(b&(1<<O)-1)];continue t}if(32&O){s.mode=12;break e}a.msg="invalid literal/length code",s.mode=30;break e}$=65535&U,(O&=15)&&(z<O&&(b+=r[h++]<<z,z+=8),$+=b&(1<<O)-1,b>>>=O,z-=O),z<15&&(b+=r[h++]<<z,z+=8,b+=r[h++]<<z,z+=8),U=S[b&T];r:for(;;){if(b>>>=O=U>>>24,z-=O,!(16&(O=U>>>16&255))){if((64&O)==0){U=S[(65535&U)+(b&(1<<O)-1)];continue r}a.msg="invalid distance code",s.mode=30;break e}if(V=65535&U,z<(O&=15)&&(b+=r[h++]<<z,(z+=8)<O&&(b+=r[h++]<<z,z+=8)),i<(V+=b&(1<<O)-1)){a.msg="invalid distance too far back",s.mode=30;break e}if(b>>>=O,z-=O,(O=_-w)<V){if(n<(O=V-O)&&s.sane){a.msg="invalid distance too far back",s.mode=30;break e}if(B=d,(y=0)===u){if(y+=m-O,O<$){for($-=O;E[_++]=d[y++],--O;);y=_-V,B=E}}else if(u<O){if(y+=m+u-O,(O-=u)<$){for($-=O;E[_++]=d[y++],--O;);if(y=0,u<$){for($-=O=u;E[_++]=d[y++],--O;);y=_-V,B=E}}}else if(y+=u-O,O<$){for($-=O;E[_++]=d[y++],--O;);y=_-V,B=E}for(;2<$;)E[_++]=B[y++],E[_++]=B[y++],E[_++]=B[y++],$-=3;$&&(E[_++]=B[y++],1<$&&(E[_++]=B[y++]))}else{for(y=_-V;E[_++]=E[y++],E[_++]=E[y++],E[_++]=E[y++],2<($-=3););$&&(E[_++]=E[y++],1<$&&(E[_++]=E[y++]))}break}}break}}while(h<f&&_<g);h-=$=z>>3,b&=(1<<(z-=$<<3))-1,a.next_in=h,a.next_out=_,a.avail_in=h<f?f-h+5:5-(h-f),a.avail_out=_<g?g-_+257:257-(_-g),s.hold=b,s.bits=z}},{}],49:[function(x,v,k){var a=x("../utils/common"),c=x("./adler32"),s=x("./crc32"),h=x("./inffast"),f=x("./inftrees"),_=1,w=2,g=0,i=-2,m=1,n=852,u=592;function d(y){return(y>>>24&255)+(y>>>8&65280)+((65280&y)<<8)+((255&y)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function z(y){var B;return y&&y.state?(B=y.state,y.total_in=y.total_out=B.total=0,y.msg="",B.wrap&&(y.adler=1&B.wrap),B.mode=m,B.last=0,B.havedict=0,B.dmax=32768,B.head=null,B.hold=0,B.bits=0,B.lencode=B.lendyn=new a.Buf32(n),B.distcode=B.distdyn=new a.Buf32(u),B.sane=1,B.back=-1,g):i}function C(y){var B;return y&&y.state?((B=y.state).wsize=0,B.whave=0,B.wnext=0,z(y)):i}function S(y,B){var r,E;return y&&y.state?(E=y.state,B<0?(r=0,B=-B):(r=1+(B>>4),B<48&&(B&=15)),B&&(B<8||15<B)?i:(E.window!==null&&E.wbits!==B&&(E.window=null),E.wrap=r,E.wbits=B,C(y))):i}function L(y,B){var r,E;return y?(E=new b,(y.state=E).window=null,(r=S(y,B))!==g&&(y.state=null),r):i}var T,U,O=!0;function $(y){if(O){var B;for(T=new a.Buf32(512),U=new a.Buf32(32),B=0;B<144;)y.lens[B++]=8;for(;B<256;)y.lens[B++]=9;for(;B<280;)y.lens[B++]=7;for(;B<288;)y.lens[B++]=8;for(f(_,y.lens,0,288,T,0,y.work,{bits:9}),B=0;B<32;)y.lens[B++]=5;f(w,y.lens,0,32,U,0,y.work,{bits:5}),O=!1}y.lencode=T,y.lenbits=9,y.distcode=U,y.distbits=5}function V(y,B,r,E){var K,M=y.state;return M.window===null&&(M.wsize=1<<M.wbits,M.wnext=0,M.whave=0,M.window=new a.Buf8(M.wsize)),E>=M.wsize?(a.arraySet(M.window,B,r-M.wsize,M.wsize,0),M.wnext=0,M.whave=M.wsize):(E<(K=M.wsize-M.wnext)&&(K=E),a.arraySet(M.window,B,r-E,K,M.wnext),(E-=K)?(a.arraySet(M.window,B,r-E,E,0),M.wnext=E,M.whave=M.wsize):(M.wnext+=K,M.wnext===M.wsize&&(M.wnext=0),M.whave<M.wsize&&(M.whave+=K))),0}k.inflateReset=C,k.inflateReset2=S,k.inflateResetKeep=z,k.inflateInit=function(y){return L(y,15)},k.inflateInit2=L,k.inflate=function(y,B){var r,E,K,M,te,W,ee,I,A,Q,X,G,le,fe,re,ne,he,ce,ge,me,e,F,p,l,o=0,j=new a.Buf8(4),R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!y||!y.state||!y.output||!y.input&&y.avail_in!==0)return i;(r=y.state).mode===12&&(r.mode=13),te=y.next_out,K=y.output,ee=y.avail_out,M=y.next_in,E=y.input,W=y.avail_in,I=r.hold,A=r.bits,Q=W,X=ee,F=g;e:for(;;)switch(r.mode){case m:if(r.wrap===0){r.mode=13;break}for(;A<16;){if(W===0)break e;W--,I+=E[M++]<<A,A+=8}if(2&r.wrap&&I===35615){j[r.check=0]=255&I,j[1]=I>>>8&255,r.check=s(r.check,j,2,0),A=I=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&I)<<8)+(I>>8))%31){y.msg="incorrect header check",r.mode=30;break}if((15&I)!=8){y.msg="unknown compression method",r.mode=30;break}if(A-=4,e=8+(15&(I>>>=4)),r.wbits===0)r.wbits=e;else if(e>r.wbits){y.msg="invalid window size",r.mode=30;break}r.dmax=1<<e,y.adler=r.check=1,r.mode=512&I?10:12,A=I=0;break;case 2:for(;A<16;){if(W===0)break e;W--,I+=E[M++]<<A,A+=8}if(r.flags=I,(255&r.flags)!=8){y.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){y.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=I>>8&1),512&r.flags&&(j[0]=255&I,j[1]=I>>>8&255,r.check=s(r.check,j,2,0)),A=I=0,r.mode=3;case 3:for(;A<32;){if(W===0)break e;W--,I+=E[M++]<<A,A+=8}r.head&&(r.head.time=I),512&r.flags&&(j[0]=255&I,j[1]=I>>>8&255,j[2]=I>>>16&255,j[3]=I>>>24&255,r.check=s(r.check,j,4,0)),A=I=0,r.mode=4;case 4:for(;A<16;){if(W===0)break e;W--,I+=E[M++]<<A,A+=8}r.head&&(r.head.xflags=255&I,r.head.os=I>>8),512&r.flags&&(j[0]=255&I,j[1]=I>>>8&255,r.check=s(r.check,j,2,0)),A=I=0,r.mode=5;case 5:if(1024&r.flags){for(;A<16;){if(W===0)break e;W--,I+=E[M++]<<A,A+=8}r.length=I,r.head&&(r.head.extra_len=I),512&r.flags&&(j[0]=255&I,j[1]=I>>>8&255,r.check=s(r.check,j,2,0)),A=I=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(W<(G=r.length)&&(G=W),G&&(r.head&&(e=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),a.arraySet(r.head.extra,E,M,G,e)),512&r.flags&&(r.check=s(r.check,E,G,M)),W-=G,M+=G,r.length-=G),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(W===0)break e;for(G=0;e=E[M+G++],r.head&&e&&r.length<65536&&(r.head.name+=String.fromCharCode(e)),e&&G<W;);if(512&r.flags&&(r.check=s(r.check,E,G,M)),W-=G,M+=G,e)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(W===0)break e;for(G=0;e=E[M+G++],r.head&&e&&r.length<65536&&(r.head.comment+=String.fromCharCode(e)),e&&G<W;);if(512&r.flags&&(r.check=s(r.check,E,G,M)),W-=G,M+=G,e)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;A<16;){if(W===0)break e;W--,I+=E[M++]<<A,A+=8}if(I!==(65535&r.check)){y.msg="header crc mismatch",r.mode=30;break}A=I=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),y.adler=r.check=0,r.mode=12;break;case 10:for(;A<32;){if(W===0)break e;W--,I+=E[M++]<<A,A+=8}y.adler=r.check=d(I),A=I=0,r.mode=11;case 11:if(r.havedict===0)return y.next_out=te,y.avail_out=ee,y.next_in=M,y.avail_in=W,r.hold=I,r.bits=A,2;y.adler=r.check=1,r.mode=12;case 12:if(B===5||B===6)break e;case 13:if(r.last){I>>>=7&A,A-=7&A,r.mode=27;break}for(;A<3;){if(W===0)break e;W--,I+=E[M++]<<A,A+=8}switch(r.last=1&I,A-=1,3&(I>>>=1)){case 0:r.mode=14;break;case 1:if($(r),r.mode=20,B!==6)break;I>>>=2,A-=2;break e;case 2:r.mode=17;break;case 3:y.msg="invalid block type",r.mode=30}I>>>=2,A-=2;break;case 14:for(I>>>=7&A,A-=7&A;A<32;){if(W===0)break e;W--,I+=E[M++]<<A,A+=8}if((65535&I)!=(I>>>16^65535)){y.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&I,A=I=0,r.mode=15,B===6)break e;case 15:r.mode=16;case 16:if(G=r.length){if(W<G&&(G=W),ee<G&&(G=ee),G===0)break e;a.arraySet(K,E,M,G,te),W-=G,M+=G,ee-=G,te+=G,r.length-=G;break}r.mode=12;break;case 17:for(;A<14;){if(W===0)break e;W--,I+=E[M++]<<A,A+=8}if(r.nlen=257+(31&I),I>>>=5,A-=5,r.ndist=1+(31&I),I>>>=5,A-=5,r.ncode=4+(15&I),I>>>=4,A-=4,286<r.nlen||30<r.ndist){y.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;A<3;){if(W===0)break e;W--,I+=E[M++]<<A,A+=8}r.lens[R[r.have++]]=7&I,I>>>=3,A-=3}for(;r.have<19;)r.lens[R[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,p={bits:r.lenbits},F=f(0,r.lens,0,19,r.lencode,0,r.work,p),r.lenbits=p.bits,F){y.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;ne=(o=r.lencode[I&(1<<r.lenbits)-1])>>>16&255,he=65535&o,!((re=o>>>24)<=A);){if(W===0)break e;W--,I+=E[M++]<<A,A+=8}if(he<16)I>>>=re,A-=re,r.lens[r.have++]=he;else{if(he===16){for(l=re+2;A<l;){if(W===0)break e;W--,I+=E[M++]<<A,A+=8}if(I>>>=re,A-=re,r.have===0){y.msg="invalid bit length repeat",r.mode=30;break}e=r.lens[r.have-1],G=3+(3&I),I>>>=2,A-=2}else if(he===17){for(l=re+3;A<l;){if(W===0)break e;W--,I+=E[M++]<<A,A+=8}A-=re,e=0,G=3+(7&(I>>>=re)),I>>>=3,A-=3}else{for(l=re+7;A<l;){if(W===0)break e;W--,I+=E[M++]<<A,A+=8}A-=re,e=0,G=11+(127&(I>>>=re)),I>>>=7,A-=7}if(r.have+G>r.nlen+r.ndist){y.msg="invalid bit length repeat",r.mode=30;break}for(;G--;)r.lens[r.have++]=e}}if(r.mode===30)break;if(r.lens[256]===0){y.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,p={bits:r.lenbits},F=f(_,r.lens,0,r.nlen,r.lencode,0,r.work,p),r.lenbits=p.bits,F){y.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,p={bits:r.distbits},F=f(w,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,p),r.distbits=p.bits,F){y.msg="invalid distances set",r.mode=30;break}if(r.mode=20,B===6)break e;case 20:r.mode=21;case 21:if(6<=W&&258<=ee){y.next_out=te,y.avail_out=ee,y.next_in=M,y.avail_in=W,r.hold=I,r.bits=A,h(y,X),te=y.next_out,K=y.output,ee=y.avail_out,M=y.next_in,E=y.input,W=y.avail_in,I=r.hold,A=r.bits,r.mode===12&&(r.back=-1);break}for(r.back=0;ne=(o=r.lencode[I&(1<<r.lenbits)-1])>>>16&255,he=65535&o,!((re=o>>>24)<=A);){if(W===0)break e;W--,I+=E[M++]<<A,A+=8}if(ne&&(240&ne)==0){for(ce=re,ge=ne,me=he;ne=(o=r.lencode[me+((I&(1<<ce+ge)-1)>>ce)])>>>16&255,he=65535&o,!(ce+(re=o>>>24)<=A);){if(W===0)break e;W--,I+=E[M++]<<A,A+=8}I>>>=ce,A-=ce,r.back+=ce}if(I>>>=re,A-=re,r.back+=re,r.length=he,ne===0){r.mode=26;break}if(32&ne){r.back=-1,r.mode=12;break}if(64&ne){y.msg="invalid literal/length code",r.mode=30;break}r.extra=15&ne,r.mode=22;case 22:if(r.extra){for(l=r.extra;A<l;){if(W===0)break e;W--,I+=E[M++]<<A,A+=8}r.length+=I&(1<<r.extra)-1,I>>>=r.extra,A-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;ne=(o=r.distcode[I&(1<<r.distbits)-1])>>>16&255,he=65535&o,!((re=o>>>24)<=A);){if(W===0)break e;W--,I+=E[M++]<<A,A+=8}if((240&ne)==0){for(ce=re,ge=ne,me=he;ne=(o=r.distcode[me+((I&(1<<ce+ge)-1)>>ce)])>>>16&255,he=65535&o,!(ce+(re=o>>>24)<=A);){if(W===0)break e;W--,I+=E[M++]<<A,A+=8}I>>>=ce,A-=ce,r.back+=ce}if(I>>>=re,A-=re,r.back+=re,64&ne){y.msg="invalid distance code",r.mode=30;break}r.offset=he,r.extra=15&ne,r.mode=24;case 24:if(r.extra){for(l=r.extra;A<l;){if(W===0)break e;W--,I+=E[M++]<<A,A+=8}r.offset+=I&(1<<r.extra)-1,I>>>=r.extra,A-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){y.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(ee===0)break e;if(G=X-ee,r.offset>G){if((G=r.offset-G)>r.whave&&r.sane){y.msg="invalid distance too far back",r.mode=30;break}le=G>r.wnext?(G-=r.wnext,r.wsize-G):r.wnext-G,G>r.length&&(G=r.length),fe=r.window}else fe=K,le=te-r.offset,G=r.length;for(ee<G&&(G=ee),ee-=G,r.length-=G;K[te++]=fe[le++],--G;);r.length===0&&(r.mode=21);break;case 26:if(ee===0)break e;K[te++]=r.length,ee--,r.mode=21;break;case 27:if(r.wrap){for(;A<32;){if(W===0)break e;W--,I|=E[M++]<<A,A+=8}if(X-=ee,y.total_out+=X,r.total+=X,X&&(y.adler=r.check=r.flags?s(r.check,K,X,te-X):c(r.check,K,X,te-X)),X=ee,(r.flags?I:d(I))!==r.check){y.msg="incorrect data check",r.mode=30;break}A=I=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;A<32;){if(W===0)break e;W--,I+=E[M++]<<A,A+=8}if(I!==(4294967295&r.total)){y.msg="incorrect length check",r.mode=30;break}A=I=0}r.mode=29;case 29:F=1;break e;case 30:F=-3;break e;case 31:return-4;case 32:default:return i}return y.next_out=te,y.avail_out=ee,y.next_in=M,y.avail_in=W,r.hold=I,r.bits=A,(r.wsize||X!==y.avail_out&&r.mode<30&&(r.mode<27||B!==4))&&V(y,y.output,y.next_out,X-y.avail_out)?(r.mode=31,-4):(Q-=y.avail_in,X-=y.avail_out,y.total_in+=Q,y.total_out+=X,r.total+=X,r.wrap&&X&&(y.adler=r.check=r.flags?s(r.check,K,X,y.next_out-X):c(r.check,K,X,y.next_out-X)),y.data_type=r.bits+(r.last?64:0)+(r.mode===12?128:0)+(r.mode===20||r.mode===15?256:0),(Q==0&&X===0||B===4)&&F===g&&(F=-5),F)},k.inflateEnd=function(y){if(!y||!y.state)return i;var B=y.state;return B.window&&(B.window=null),y.state=null,g},k.inflateGetHeader=function(y,B){var r;return y&&y.state?(2&(r=y.state).wrap)==0?i:((r.head=B).done=!1,g):i},k.inflateSetDictionary=function(y,B){var r,E=B.length;return y&&y.state?(r=y.state).wrap!==0&&r.mode!==11?i:r.mode===11&&c(1,B,E,0)!==r.check?-3:V(y,B,E,E)?(r.mode=31,-4):(r.havedict=1,g):i},k.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(x,v,k){var a=x("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];v.exports=function(_,w,g,i,m,n,u,d){var b,z,C,S,L,T,U,O,$,V=d.bits,y=0,B=0,r=0,E=0,K=0,M=0,te=0,W=0,ee=0,I=0,A=null,Q=0,X=new a.Buf16(16),G=new a.Buf16(16),le=null,fe=0;for(y=0;y<=15;y++)X[y]=0;for(B=0;B<i;B++)X[w[g+B]]++;for(K=V,E=15;1<=E&&X[E]===0;E--);if(E<K&&(K=E),E===0)return m[n++]=20971520,m[n++]=20971520,d.bits=1,0;for(r=1;r<E&&X[r]===0;r++);for(K<r&&(K=r),y=W=1;y<=15;y++)if(W<<=1,(W-=X[y])<0)return-1;if(0<W&&(_===0||E!==1))return-1;for(G[1]=0,y=1;y<15;y++)G[y+1]=G[y]+X[y];for(B=0;B<i;B++)w[g+B]!==0&&(u[G[w[g+B]]++]=B);if(T=_===0?(A=le=u,19):_===1?(A=c,Q-=257,le=s,fe-=257,256):(A=h,le=f,-1),y=r,L=n,te=B=I=0,C=-1,S=(ee=1<<(M=K))-1,_===1&&852<ee||_===2&&592<ee)return 1;for(;;){for(U=y-te,$=u[B]<T?(O=0,u[B]):u[B]>T?(O=le[fe+u[B]],A[Q+u[B]]):(O=96,0),b=1<<y-te,r=z=1<<M;m[L+(I>>te)+(z-=b)]=U<<24|O<<16|$|0,z!==0;);for(b=1<<y-1;I&b;)b>>=1;if(b!==0?(I&=b-1,I+=b):I=0,B++,--X[y]==0){if(y===E)break;y=w[g+u[B]]}if(K<y&&(I&S)!==C){for(te===0&&(te=K),L+=r,W=1<<(M=y-te);M+te<E&&!((W-=X[M+te])<=0);)M++,W<<=1;if(ee+=1<<M,_===1&&852<ee||_===2&&592<ee)return 1;m[C=I&S]=K<<24|M<<16|L-n|0}}return I!==0&&(m[L+I]=y-te<<24|64<<16|0),d.bits=K,0}},{"../utils/common":41}],51:[function(x,v,k){v.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(x,v,k){var a=x("../utils/common"),c=0,s=1;function h(o){for(var j=o.length;0<=--j;)o[j]=0}var f=0,_=29,w=256,g=w+1+_,i=30,m=19,n=2*g+1,u=15,d=16,b=7,z=256,C=16,S=17,L=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],V=new Array(2*(g+2));h(V);var y=new Array(2*i);h(y);var B=new Array(512);h(B);var r=new Array(256);h(r);var E=new Array(_);h(E);var K,M,te,W=new Array(i);function ee(o,j,R,P,N){this.static_tree=o,this.extra_bits=j,this.extra_base=R,this.elems=P,this.max_length=N,this.has_stree=o&&o.length}function I(o,j){this.dyn_tree=o,this.max_code=0,this.stat_desc=j}function A(o){return o<256?B[o]:B[256+(o>>>7)]}function Q(o,j){o.pending_buf[o.pending++]=255&j,o.pending_buf[o.pending++]=j>>>8&255}function X(o,j,R){o.bi_valid>d-R?(o.bi_buf|=j<<o.bi_valid&65535,Q(o,o.bi_buf),o.bi_buf=j>>d-o.bi_valid,o.bi_valid+=R-d):(o.bi_buf|=j<<o.bi_valid&65535,o.bi_valid+=R)}function G(o,j,R){X(o,R[2*j],R[2*j+1])}function le(o,j){for(var R=0;R|=1&o,o>>>=1,R<<=1,0<--j;);return R>>>1}function fe(o,j,R){var P,N,D=new Array(u+1),Y=0;for(P=1;P<=u;P++)D[P]=Y=Y+R[P-1]<<1;for(N=0;N<=j;N++){var Z=o[2*N+1];Z!==0&&(o[2*N]=le(D[Z]++,Z))}}function re(o){var j;for(j=0;j<g;j++)o.dyn_ltree[2*j]=0;for(j=0;j<i;j++)o.dyn_dtree[2*j]=0;for(j=0;j<m;j++)o.bl_tree[2*j]=0;o.dyn_ltree[2*z]=1,o.opt_len=o.static_len=0,o.last_lit=o.matches=0}function ne(o){8<o.bi_valid?Q(o,o.bi_buf):0<o.bi_valid&&(o.pending_buf[o.pending++]=o.bi_buf),o.bi_buf=0,o.bi_valid=0}function he(o,j,R,P){var N=2*j,D=2*R;return o[N]<o[D]||o[N]===o[D]&&P[j]<=P[R]}function ce(o,j,R){for(var P=o.heap[R],N=R<<1;N<=o.heap_len&&(N<o.heap_len&&he(j,o.heap[N+1],o.heap[N],o.depth)&&N++,!he(j,P,o.heap[N],o.depth));)o.heap[R]=o.heap[N],R=N,N<<=1;o.heap[R]=P}function ge(o,j,R){var P,N,D,Y,Z=0;if(o.last_lit!==0)for(;P=o.pending_buf[o.d_buf+2*Z]<<8|o.pending_buf[o.d_buf+2*Z+1],N=o.pending_buf[o.l_buf+Z],Z++,P===0?G(o,N,j):(G(o,(D=r[N])+w+1,j),(Y=T[D])!==0&&X(o,N-=E[D],Y),G(o,D=A(--P),R),(Y=U[D])!==0&&X(o,P-=W[D],Y)),Z<o.last_lit;);G(o,z,j)}function me(o,j){var R,P,N,D=j.dyn_tree,Y=j.stat_desc.static_tree,Z=j.stat_desc.has_stree,J=j.stat_desc.elems,ae=-1;for(o.heap_len=0,o.heap_max=n,R=0;R<J;R++)D[2*R]!==0?(o.heap[++o.heap_len]=ae=R,o.depth[R]=0):D[2*R+1]=0;for(;o.heap_len<2;)D[2*(N=o.heap[++o.heap_len]=ae<2?++ae:0)]=1,o.depth[N]=0,o.opt_len--,Z&&(o.static_len-=Y[2*N+1]);for(j.max_code=ae,R=o.heap_len>>1;1<=R;R--)ce(o,D,R);for(N=J;R=o.heap[1],o.heap[1]=o.heap[o.heap_len--],ce(o,D,1),P=o.heap[1],o.heap[--o.heap_max]=R,o.heap[--o.heap_max]=P,D[2*N]=D[2*R]+D[2*P],o.depth[N]=(o.depth[R]>=o.depth[P]?o.depth[R]:o.depth[P])+1,D[2*R+1]=D[2*P+1]=N,o.heap[1]=N++,ce(o,D,1),2<=o.heap_len;);o.heap[--o.heap_max]=o.heap[1],function(se,pe){var we,ie,_e,de,ke,je,ve=pe.dyn_tree,Ne=pe.max_code,Ee=pe.stat_desc.static_tree,xe=pe.stat_desc.has_stree,tt=pe.stat_desc.extra_bits,Ue=pe.stat_desc.extra_base,Se=pe.stat_desc.max_length,Ie=0;for(de=0;de<=u;de++)se.bl_count[de]=0;for(ve[2*se.heap[se.heap_max]+1]=0,we=se.heap_max+1;we<n;we++)Se<(de=ve[2*ve[2*(ie=se.heap[we])+1]+1]+1)&&(de=Se,Ie++),ve[2*ie+1]=de,Ne<ie||(se.bl_count[de]++,ke=0,Ue<=ie&&(ke=tt[ie-Ue]),je=ve[2*ie],se.opt_len+=je*(de+ke),xe&&(se.static_len+=je*(Ee[2*ie+1]+ke)));if(Ie!==0){do{for(de=Se-1;se.bl_count[de]===0;)de--;se.bl_count[de]--,se.bl_count[de+1]+=2,se.bl_count[Se]--,Ie-=2}while(0<Ie);for(de=Se;de!==0;de--)for(ie=se.bl_count[de];ie!==0;)Ne<(_e=se.heap[--we])||(ve[2*_e+1]!==de&&(se.opt_len+=(de-ve[2*_e+1])*ve[2*_e],ve[2*_e+1]=de),ie--)}}(o,j),fe(D,ae,o.bl_count)}function e(o,j,R){var P,N,D=-1,Y=j[1],Z=0,J=7,ae=4;for(Y===0&&(J=138,ae=3),j[2*(R+1)+1]=65535,P=0;P<=R;P++)N=Y,Y=j[2*(P+1)+1],++Z<J&&N===Y||(Z<ae?o.bl_tree[2*N]+=Z:N!==0?(N!==D&&o.bl_tree[2*N]++,o.bl_tree[2*C]++):Z<=10?o.bl_tree[2*S]++:o.bl_tree[2*L]++,D=N,ae=(Z=0)===Y?(J=138,3):N===Y?(J=6,3):(J=7,4))}function F(o,j,R){var P,N,D=-1,Y=j[1],Z=0,J=7,ae=4;for(Y===0&&(J=138,ae=3),P=0;P<=R;P++)if(N=Y,Y=j[2*(P+1)+1],!(++Z<J&&N===Y)){if(Z<ae)for(;G(o,N,o.bl_tree),--Z!=0;);else N!==0?(N!==D&&(G(o,N,o.bl_tree),Z--),G(o,C,o.bl_tree),X(o,Z-3,2)):Z<=10?(G(o,S,o.bl_tree),X(o,Z-3,3)):(G(o,L,o.bl_tree),X(o,Z-11,7));D=N,ae=(Z=0)===Y?(J=138,3):N===Y?(J=6,3):(J=7,4)}}h(W);var p=!1;function l(o,j,R,P){X(o,(f<<1)+(P?1:0),3),function(N,D,Y,Z){ne(N),Q(N,Y),Q(N,~Y),a.arraySet(N.pending_buf,N.window,D,Y,N.pending),N.pending+=Y}(o,j,R)}k._tr_init=function(o){p||(function(){var j,R,P,N,D,Y=new Array(u+1);for(N=P=0;N<_-1;N++)for(E[N]=P,j=0;j<1<<T[N];j++)r[P++]=N;for(r[P-1]=N,N=D=0;N<16;N++)for(W[N]=D,j=0;j<1<<U[N];j++)B[D++]=N;for(D>>=7;N<i;N++)for(W[N]=D<<7,j=0;j<1<<U[N]-7;j++)B[256+D++]=N;for(R=0;R<=u;R++)Y[R]=0;for(j=0;j<=143;)V[2*j+1]=8,j++,Y[8]++;for(;j<=255;)V[2*j+1]=9,j++,Y[9]++;for(;j<=279;)V[2*j+1]=7,j++,Y[7]++;for(;j<=287;)V[2*j+1]=8,j++,Y[8]++;for(fe(V,g+1,Y),j=0;j<i;j++)y[2*j+1]=5,y[2*j]=le(j,5);K=new ee(V,T,w+1,g,u),M=new ee(y,U,0,i,u),te=new ee(new Array(0),O,0,m,b)}(),p=!0),o.l_desc=new I(o.dyn_ltree,K),o.d_desc=new I(o.dyn_dtree,M),o.bl_desc=new I(o.bl_tree,te),o.bi_buf=0,o.bi_valid=0,re(o)},k._tr_stored_block=l,k._tr_flush_block=function(o,j,R,P){var N,D,Y=0;0<o.level?(o.strm.data_type===2&&(o.strm.data_type=function(Z){var J,ae=4093624447;for(J=0;J<=31;J++,ae>>>=1)if(1&ae&&Z.dyn_ltree[2*J]!==0)return c;if(Z.dyn_ltree[18]!==0||Z.dyn_ltree[20]!==0||Z.dyn_ltree[26]!==0)return s;for(J=32;J<w;J++)if(Z.dyn_ltree[2*J]!==0)return s;return c}(o)),me(o,o.l_desc),me(o,o.d_desc),Y=function(Z){var J;for(e(Z,Z.dyn_ltree,Z.l_desc.max_code),e(Z,Z.dyn_dtree,Z.d_desc.max_code),me(Z,Z.bl_desc),J=m-1;3<=J&&Z.bl_tree[2*$[J]+1]===0;J--);return Z.opt_len+=3*(J+1)+5+5+4,J}(o),N=o.opt_len+3+7>>>3,(D=o.static_len+3+7>>>3)<=N&&(N=D)):N=D=R+5,R+4<=N&&j!==-1?l(o,j,R,P):o.strategy===4||D===N?(X(o,2+(P?1:0),3),ge(o,V,y)):(X(o,4+(P?1:0),3),function(Z,J,ae,se){var pe;for(X(Z,J-257,5),X(Z,ae-1,5),X(Z,se-4,4),pe=0;pe<se;pe++)X(Z,Z.bl_tree[2*$[pe]+1],3);F(Z,Z.dyn_ltree,J-1),F(Z,Z.dyn_dtree,ae-1)}(o,o.l_desc.max_code+1,o.d_desc.max_code+1,Y+1),ge(o,o.dyn_ltree,o.dyn_dtree)),re(o),P&&ne(o)},k._tr_tally=function(o,j,R){return o.pending_buf[o.d_buf+2*o.last_lit]=j>>>8&255,o.pending_buf[o.d_buf+2*o.last_lit+1]=255&j,o.pending_buf[o.l_buf+o.last_lit]=255&R,o.last_lit++,j===0?o.dyn_ltree[2*R]++:(o.matches++,j--,o.dyn_ltree[2*(r[R]+w+1)]++,o.dyn_dtree[2*A(j)]++),o.last_lit===o.lit_bufsize-1},k._tr_align=function(o){X(o,2,3),G(o,z,V),function(j){j.bi_valid===16?(Q(j,j.bi_buf),j.bi_buf=0,j.bi_valid=0):8<=j.bi_valid&&(j.pending_buf[j.pending++]=255&j.bi_buf,j.bi_buf>>=8,j.bi_valid-=8)}(o)}},{"../utils/common":41}],53:[function(x,v,k){v.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(x,v,k){(function(a){(function(c,s){if(!c.setImmediate){var h,f,_,w,g=1,i={},m=!1,n=c.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(c);u=u&&u.setTimeout?u:c,h={}.toString.call(c.process)==="[object process]"?function(C){process.nextTick(function(){b(C)})}:function(){if(c.postMessage&&!c.importScripts){var C=!0,S=c.onmessage;return c.onmessage=function(){C=!1},c.postMessage("","*"),c.onmessage=S,C}}()?(w="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",z,!1):c.attachEvent("onmessage",z),function(C){c.postMessage(w+C,"*")}):c.MessageChannel?((_=new MessageChannel).port1.onmessage=function(C){b(C.data)},function(C){_.port2.postMessage(C)}):n&&"onreadystatechange"in n.createElement("script")?(f=n.documentElement,function(C){var S=n.createElement("script");S.onreadystatechange=function(){b(C),S.onreadystatechange=null,f.removeChild(S),S=null},f.appendChild(S)}):function(C){setTimeout(b,0,C)},u.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var S=new Array(arguments.length-1),L=0;L<S.length;L++)S[L]=arguments[L+1];var T={callback:C,args:S};return i[g]=T,h(g),g++},u.clearImmediate=d}function d(C){delete i[C]}function b(C){if(m)setTimeout(b,0,C);else{var S=i[C];if(S){m=!0;try{(function(L){var T=L.callback,U=L.args;switch(U.length){case 0:T();break;case 1:T(U[0]);break;case 2:T(U[0],U[1]);break;case 3:T(U[0],U[1],U[2]);break;default:T.apply(s,U)}})(S)}finally{d(C),m=!1}}}}function z(C){C.source===c&&typeof C.data=="string"&&C.data.indexOf(w)===0&&b(+C.data.slice(w.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof ye<"u"?ye:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Le)),Le.exports}var Et=At();const It=at(Et);var Re={exports:{}},Ot=Re.exports,He;function Tt(){return He||(He=1,function(H,q){(function(x,v){v()})(Ot,function(){function x(f,_){return typeof _>"u"?_={autoBom:!1}:typeof _!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),_={autoBom:!_}),_.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function v(f,_,w){var g=new XMLHttpRequest;g.open("GET",f),g.responseType="blob",g.onload=function(){h(g.response,_,w)},g.onerror=function(){console.error("could not download file")},g.send()}function k(f){var _=new XMLHttpRequest;_.open("HEAD",f,!1);try{_.send()}catch{}return 200<=_.status&&299>=_.status}function a(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var _=document.createEvent("MouseEvents");_.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(_)}}var c=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ye=="object"&&ye.global===ye?ye:void 0,s=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),h=c.saveAs||(typeof window!="object"||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(f,_,w){var g=c.URL||c.webkitURL,i=document.createElement("a");_=_||f.name||"download",i.download=_,i.rel="noopener",typeof f=="string"?(i.href=f,i.origin===location.origin?a(i):k(i.href)?v(f,_,w):a(i,i.target="_blank")):(i.href=g.createObjectURL(f),setTimeout(function(){g.revokeObjectURL(i.href)},4e4),setTimeout(function(){a(i)},0))}:"msSaveOrOpenBlob"in navigator?function(f,_,w){if(_=_||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(x(f,w),_);else if(k(f))v(f,_,w);else{var g=document.createElement("a");g.href=f,g.target="_blank",setTimeout(function(){a(g)})}}:function(f,_,w,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof f=="string")return v(f,_,w);var i=f.type==="application/octet-stream",m=/constructor/i.test(c.HTMLElement)||c.safari,n=/CriOS\/[\d]+/.test(navigator.userAgent);if((n||i&&m||s)&&typeof FileReader<"u"){var u=new FileReader;u.onloadend=function(){var z=u.result;z=n?z:z.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=z:location=z,g=null},u.readAsDataURL(f)}else{var d=c.URL||c.webkitURL,b=d.createObjectURL(f);g?g.location=b:location.href=b,g=null,setTimeout(function(){d.revokeObjectURL(b)},4e4)}});c.saveAs=h.saveAs=h,H.exports=h})}(Re)),Re.exports}var Bt=Tt();function Ge({svgContent:H,projectName:q,theme:x="light",scale:v=1,position:k={x:0,y:0}}){const a=x==="dark",c={transform:`translate(${k.x/512*100}%, ${k.y/512*100}%) scale(${v})`,transformOrigin:"center",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"};return t.jsxs("div",{className:`rounded-lg overflow-hidden border ${a?"bg-zinc-900 border-zinc-700":"bg-gray-100 border-gray-200"} shadow-sm`,children:[t.jsxs("div",{className:`h-10 flex items-center px-2 space-x-2 ${a?"bg-zinc-900":"bg-gray-100"}`,children:[t.jsxs("div",{className:"flex space-x-1.5",children:[t.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),t.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),t.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]}),t.jsxs("div",{className:`flex-1 max-w-[240px] h-8 mt-2 rounded-t-lg flex items-center px-3 space-x-2 text-xs relative
          ${a?"bg-zinc-800 text-gray-300":"bg-white text-gray-700"} shadow-sm`,children:[t.jsx("div",{className:"w-4 h-4 shrink-0 overflow-hidden flex items-center justify-center",children:t.jsx("div",{style:c,children:t.jsx("div",{className:"w-full h-full [&>svg]:w-full [&>svg]:h-full",dangerouslySetInnerHTML:{__html:H}})})}),t.jsx("span",{className:"truncate flex-1 font-medium",children:q||"New Project"}),t.jsx(rt,{className:`w-3 h-3 cursor-pointer ${a?"text-gray-500 hover:text-gray-300":"text-gray-400 hover:text-gray-600"}`})]}),t.jsx("div",{className:`w-6 h-6 rounded hover:bg-black/5 flex items-center justify-center cursor-pointer ${a?"hover:bg-white/10":""}`,children:t.jsx("span",{className:`text-lg leading-none ${a?"text-gray-500":"text-gray-400"}`,children:"+"})})]}),t.jsxs("div",{className:`h-9 border-b flex items-center px-3 space-x-3 ${a?"bg-zinc-800 border-zinc-700":"bg-white border-gray-200"}`,children:[t.jsxs("div",{className:"flex space-x-2 text-gray-400",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"m15 18-6-6 6-6"})}),t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"m9 18 6-6-6-6"})}),t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),t.jsx("path",{d:"M3 3v5h5"})]})]}),t.jsxs("div",{className:`flex-1 h-6 rounded-full flex items-center px-3 text-xs ${a?"bg-zinc-900 text-gray-400":"bg-gray-100 text-gray-500"}`,children:[t.jsx("span",{className:"opacity-50",children:"https://"}),"example.com"]})]}),t.jsx("div",{className:`h-32 flex items-center justify-center ${a?"bg-zinc-900 text-gray-600":"bg-white text-gray-300"}`,children:t.jsx("span",{className:"text-4xl font-black opacity-10 select-none",children:"CONTENT"})})]})}function Rt({display:H,orientation:q,backgroundColor:x="#ffffff",themeColor:v="#ffffff",showSplash:k=!1,logoContent:a="",scale:c=1}){const s=q==="landscape",h={transform:`scale(${c})`,transformOrigin:"center",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"};return t.jsxs("div",{className:"flex flex-col items-center justify-center p-8 bg-zinc-100 dark:bg-zinc-900/50 rounded-xl border border-zinc-200 dark:border-zinc-800",children:[t.jsx("div",{className:`relative shadow-xl overflow-hidden border-[6px] border-zinc-800 rounded-3xl transition-all duration-300 flex flex-col ${s?"w-64 h-32":"w-32 h-64"}`,style:{backgroundColor:x,borderColor:"#27272a"},children:k?t.jsxs("div",{className:"flex-1 w-full flex items-center justify-center relative overflow-hidden",children:[t.jsx("div",{className:"w-16 h-16",children:t.jsx("div",{style:h,children:t.jsx("div",{className:"w-full h-full [&>svg]:w-full [&>svg]:h-full",dangerouslySetInnerHTML:{__html:a}})})}),t.jsx("div",{className:"absolute bottom-12 w-6 h-6 border-2 border-current rounded-full opacity-20 animate-spin",style:{color:v===x?"currentColor":v}})]}):t.jsxs(t.Fragment,{children:[H!=="fullscreen"&&t.jsxs("div",{className:"h-3 w-full flex justify-between items-center px-3 shrink-0",style:{backgroundColor:v},children:[t.jsx("div",{className:"w-8 h-1 bg-black/20 rounded-full"}),t.jsxs("div",{className:"flex gap-0.5",children:[t.jsx("div",{className:"w-1 h-1 bg-black/20 rounded-full"}),t.jsx("div",{className:"w-1 h-1 bg-black/20 rounded-full"})]})]}),(H==="browser"||H==="minimal-ui")&&t.jsxs("div",{className:"bg-zinc-100 border-b border-zinc-200 p-1.5 flex items-center space-x-1 shrink-0",children:[t.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-zinc-300"}),t.jsx("div",{className:"flex-1 h-2 bg-white rounded-[2px] border border-zinc-200"}),t.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-zinc-300"})]}),t.jsxs("div",{className:"flex-1 w-full flex flex-col items-center justify-center p-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg bg-black/5 mb-2"}),t.jsx("div",{className:"w-16 h-1 bg-black/5 rounded-full mb-1"}),t.jsx("div",{className:"w-12 h-1 bg-black/5 rounded-full"})]}),H==="browser"&&t.jsxs("div",{className:"h-4 bg-zinc-100 border-t border-zinc-200 w-full flex justify-around items-center px-2 shrink-0",children:[t.jsx("div",{className:"w-2 h-2 bg-zinc-300 rounded-[1px]"}),t.jsx("div",{className:"w-2 h-2 bg-zinc-300 rounded-[1px]"}),t.jsx("div",{className:"w-2 h-2 bg-zinc-300 rounded-[1px]"})]}),(H==="standalone"||H==="minimal-ui"||H==="fullscreen")&&t.jsx("div",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-black/20 rounded-full"})]})}),t.jsxs("div",{className:"mt-4 flex gap-2",children:[t.jsx("span",{className:"text-[10px] uppercase tracking-wider font-semibold text-slate-400 bg-white dark:bg-zinc-800 px-2 py-1 rounded border border-zinc-200 dark:border-zinc-700",children:H}),t.jsx("span",{className:"text-[10px] uppercase tracking-wider font-semibold text-slate-400 bg-white dark:bg-zinc-800 px-2 py-1 rounded border border-zinc-200 dark:border-zinc-700",children:q}),k&&t.jsx("span",{className:"text-[10px] uppercase tracking-wider font-semibold text-blue-500 bg-blue-50 dark:bg-blue-900/20 px-2 py-1 rounded border border-blue-200 dark:border-blue-800",children:"Splash"})]})]})}function Dt(H){try{return btoa(encodeURIComponent(H).replace(/%([0-9A-F]{2})/g,function(x,v){return String.fromCharCode(+("0x"+v))}))}catch(q){return console.error("Base64 encoding failed",q),""}}function Ce({platform:H,image:q,title:x,description:v,domain:k="example.com"}){let a="";return q&&q.trim().startsWith("<")?a=`data:image/svg+xml;base64,${Dt(q)}`:a=q,H==="linkedin"?t.jsxs("div",{className:"w-full bg-white border border-zinc-200 rounded-lg overflow-hidden font-sans text-left shadow-sm break-inside-avoid mb-4",children:[t.jsx("div",{className:"relative aspect-[1.91/1] w-full bg-zinc-100 overflow-hidden",children:a?t.jsx("img",{src:a,alt:"Preview",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-zinc-400",children:"Loading..."})}),t.jsxs("div",{className:"p-3 bg-[#f3f6f8] border-t border-zinc-100",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-900 truncate",children:x||"Post Title"}),t.jsx("p",{className:"text-xs text-slate-500 truncate mt-0.5",children:k})]})]}):H==="facebook"?t.jsxs("div",{className:"w-full bg-white border border-zinc-200 rounded overflow-hidden font-sans text-left shadow-sm break-inside-avoid mb-4",children:[t.jsx("div",{className:"relative aspect-[1.91/1] w-full bg-zinc-100 overflow-hidden",children:a?t.jsx("img",{src:a,alt:"Preview",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-zinc-400",children:"Loading..."})}),t.jsxs("div",{className:"p-3 bg-[#f0f2f5] border-t border-zinc-100",children:[t.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-wide truncate",children:k}),t.jsx("h3",{className:"text-[16px] font-bold text-[#050505] truncate leading-tight mt-0.5",children:x||"Post Title"}),t.jsx("p",{className:"text-[14px] text-[#65676b] truncate mt-1 line-clamp-1",children:v||"Post description goes here..."})]})]}):H==="twitter"?t.jsxs("div",{className:"w-full bg-white border border-zinc-200 rounded-xl overflow-hidden font-sans text-left shadow-sm break-inside-avoid mb-4",children:[t.jsx("div",{className:"relative aspect-[1.91/1] w-full bg-zinc-100 overflow-hidden",children:a?t.jsx("img",{src:a,alt:"Preview",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-zinc-400",children:"Loading..."})}),t.jsxs("div",{className:"p-3 bg-white border-t border-zinc-100",children:[t.jsx("p",{className:"text-xs text-slate-500 uppercase truncate mb-0.5",children:k}),t.jsx("h3",{className:"text-[15px] font-bold text-slate-900 truncate",children:x||"Post Title"}),t.jsx("p",{className:"text-[14px] text-slate-500 truncate mt-0.5",children:v||"Post description goes here..."})]})]}):H==="whatsapp"?t.jsx("div",{className:"w-full max-w-[300px] mx-auto bg-[#dcf8c6] p-2 rounded-lg font-sans text-left relative shadow-sm break-inside-avoid mb-4",children:t.jsxs("div",{className:"bg-[#f7f7f7] rounded-lg overflow-hidden",children:[t.jsx("div",{className:"bg-zinc-200 aspect-video w-full overflow-hidden relative",children:a?t.jsx("img",{src:a,alt:"Preview",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-zinc-400 text-xs",children:"Loading..."})}),t.jsxs("div",{className:"p-2",children:[t.jsx("h3",{className:"text-sm font-bold text-slate-900 truncate",children:x||"Title"}),t.jsx("p",{className:"text-xs text-slate-500 truncate mt-0.5",children:v||"Description"}),t.jsx("p",{className:"text-[10px] text-slate-400 mt-1 truncate",children:k})]})]})}):H==="instagram"?t.jsxs("div",{className:"w-full bg-white border border-zinc-200 rounded font-sans text-left shadow-sm break-inside-avoid mb-4",children:[t.jsxs("div",{className:"flex items-center p-3 border-b border-zinc-100",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-zinc-200 mr-3"}),t.jsx("span",{className:"text-sm font-semibold text-slate-900",children:k?.split(".")[0]||"username"})]}),t.jsx("div",{className:"aspect-square w-full bg-zinc-100 overflow-hidden relative",children:a?t.jsx("img",{src:a,alt:"Preview",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-zinc-400",children:"Loading..."})}),t.jsx("div",{className:"p-3",children:t.jsxs("p",{className:"text-sm text-slate-900",children:[t.jsx("span",{className:"font-semibold mr-2",children:k?.split(".")[0]||"username"}),x||"My new logo!"]})})]}):null}const Ve=(H,q)=>({name:H.name,short_name:H.shortName||H.name,description:H.description||"",theme_color:H.themeColor||"#ffffff",background_color:H.appBackgroundColor||"#ffffff",display:H.displayMode||"standalone",orientation:H.orientation||"any",start_url:H.startUrl||"/",icons:q.map(x=>({src:`icon-${x}.png`,sizes:`${x}x${x}`,type:"image/png",purpose:x===512||x===1024?"any maskable":"any"})),screenshots:[{src:"splash.png",sizes:"1080x1920",type:"image/png",form_factor:"wide"}],categories:[]}),Je=(H,q)=>{const x=[...q].sort((h,f)=>h-f),v=x.length>0?x[x.length-1]:void 0,k=q.includes(192)?192:void 0,a=q.includes(512)?512:void 0,c=H.shortName?.toLowerCase().replace(/\s+/g,"-")||H.name.toLowerCase().replace(/\s+/g,"-"),s=`com.example.${c.replace(/-/g,"")}`;return{expo:{name:H.name,slug:c,version:"1.0.0",orientation:H.orientation==="any"?"default":H.orientation,icon:a?`./icon-${a}.png`:v?`./icon-${v}.png`:void 0,userInterfaceStyle:"light",splash:{image:"./splash.png",resizeMode:"contain",backgroundColor:H.appBackgroundColor||"#ffffff"},ios:{supportsTablet:!0,bundleIdentifier:s},android:{adaptiveIcon:{foregroundImage:k?`./icon-${k}.png`:v?`./icon-${v}.png`:void 0,backgroundColor:H.appBackgroundColor||"#ffffff"},package:s},web:{favicon:"./favicon.ico"},description:H.description||""}}},Qe=async(H,q)=>{try{const x="/".endsWith("/")?"/":"//",v=await fetch(`${x}api/generate-og`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project:H,svgContent:q})});if(!v.ok)throw new Error("Failed to generate OG image via API");return await v.text()}catch(x){return console.error("Failed to generate OG image",x),q}},Ae=[16,32,64,128,180,192,512,1024],et=H=>H.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),Lt=H=>{if(!H)return"";const q=/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g;return H.replace(q,x=>{let v="text-purple-600 dark:text-purple-400";return/^"/.test(x)?/:$/.test(x)?v="text-blue-600 dark:text-blue-400":v="text-green-600 dark:text-green-400":/true|false/.test(x)?v="text-orange-600 dark:text-orange-400":/null/.test(x)&&(v="text-red-600 dark:text-red-400"),`<span class="${v}">${et(x)}</span>`})};function qe({code:H,language:q="json"}){const[x,v]=oe.useState(!1),k=async()=>{try{await navigator.clipboard.writeText(H),v(!0),setTimeout(()=>v(!1),2e3)}catch(c){console.error("Failed to copy text: ",c)}},a=q==="json"?Lt(H):et(H);return t.jsxs("div",{className:"relative group rounded-md overflow-hidden bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800",children:[t.jsx("div",{className:"absolute top-2 right-2 flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx("button",{onClick:k,className:"p-1.5 bg-white dark:bg-zinc-800 rounded-md shadow-sm border border-zinc-200 dark:border-zinc-700 hover:bg-zinc-100 dark:hover:bg-zinc-700 text-slate-500 dark:text-slate-400 transition-colors",title:"Copy to clipboard",children:x?t.jsx(ze,{className:"w-4 h-4 text-green-500"}):t.jsx(ft,{className:"w-4 h-4"})})}),t.jsx("pre",{className:"p-4 text-xs font-mono overflow-x-auto whitespace-pre-wrap",children:q==="json"?t.jsx("code",{dangerouslySetInnerHTML:{__html:a}}):t.jsx("code",{children:H})})]})}function Me(H,q){const[x,v]=oe.useState(()=>{if(typeof window>"u")return q;try{const a=window.localStorage.getItem(H);return a?JSON.parse(a):q}catch(a){return console.log(a),q}});return[x,a=>{try{const c=a instanceof Function?a(x):a;v(c),typeof window<"u"&&window.localStorage.setItem(H,JSON.stringify(c))}catch(c){console.log(c)}}]}function Ft({svgContent:H,projectName:q,lang:x,borderRadius:v,backgroundColor:k,displayMode:a="standalone",orientation:c="any",selectedSizes:s=[],onToggleSize:h,onSelectAllSizes:f,onDeselectAllSizes:_,scale:w=1,position:g={x:0,y:0},shortName:i,description:m,themeColor:n,selectedExtraAssets:u,onToggleExtraAsset:d}){const[b,z]=Me("preview-active-tab","web"),[C,S]=oe.useState([]),[L,T]=oe.useState(""),[U,O]=oe.useState(""),[$,V]=oe.useState(!1);oe.useEffect(()=>{(async()=>{if(H&&q){const K=await Qe({name:q,description:m||"Designed with Logo Studio"},H);O(K)}})()},[H,q,m]);const y={transform:`translate(${g.x/512*100}%, ${g.y/512*100}%) scale(${w})`,transformOrigin:"center",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},B=E=>De[x]?.[E]||De[Xe]?.[E]||E;if(!H)return t.jsx("div",{className:"text-center p-10 text-slate-500",children:"No content to preview"});const r=[{id:"web",label:"Web",icon:We},{id:"mobile",label:"Mobile",icon:Nt},{id:"social",label:"Social",icon:jt},{id:"manifest",label:"Manifest",icon:Pe},{id:"exports",label:"Exports",icon:Ke}];return t.jsxs("div",{className:"flex flex-col h-full bg-zinc-50 dark:bg-zinc-950",children:[t.jsx("div",{className:"flex items-center justify-center p-4 border-b border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 sticky top-0 z-10 shrink-0",children:t.jsx("div",{className:"flex bg-zinc-100 dark:bg-zinc-800 p-1 rounded-lg overflow-x-auto max-w-full",children:r.map(E=>{const K=E.icon;return t.jsxs("button",{onClick:()=>z(E.id),className:`flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-all whitespace-nowrap ${b===E.id?"bg-white dark:bg-zinc-700 text-slate-900 dark:text-white shadow-sm":"text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white"}`,children:[t.jsx(K,{className:"w-4 h-4"}),t.jsx("span",{children:E.label})]},E.id)})})}),t.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:t.jsxs("div",{className:"max-w-5xl mx-auto",children:[b==="web"&&t.jsx("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white flex items-center",children:[t.jsx(We,{className:"w-4 h-4 mr-2"})," ",B("preview.browser_tab")]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx(Ge,{svgContent:H,projectName:q,theme:"light",scale:w,position:g}),t.jsx(Ge,{svgContent:H,projectName:q,theme:"dark",scale:w,position:g})]})]})}),b==="mobile"&&t.jsx("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 justify-items-center",children:[t.jsxs("div",{className:"w-full max-w-sm aspect-[9/19.5] rounded-[40px] overflow-hidden bg-slate-100 shadow-2xl relative group border-4 border-slate-900 dark:border-zinc-800",children:[t.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1621768216002-5ac171876625?auto=format&fit=crop&q=80')] bg-cover bg-center",children:t.jsx("div",{className:"absolute inset-0 bg-white/20 backdrop-blur-3xl"})}),t.jsxs("div",{className:"absolute top-0 w-full h-12 flex justify-between px-6 items-end pb-2 text-xs font-semibold text-slate-900 z-20",children:[t.jsx("span",{className:"ml-2",children:"9:41"}),t.jsxs("div",{className:"flex space-x-1.5 items-center mr-2",children:[t.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:t.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"})}),t.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:t.jsx("path",{d:"M1.66 17.65c.57.59 1.48.59 2.05 0L12 9.41l8.29 8.24c.57.59 1.48.59 2.05 0 .59-.59.59-1.55 0-2.14L13.03 6.18c-.57-.59-1.48-.59-2.05 0L1.66 15.51c-.59.59-.59 1.55 0 2.14z"})}),t.jsx("div",{className:"w-5 h-2.5 border border-slate-900 rounded-[4px] relative",children:t.jsx("div",{className:"absolute inset-0.5 bg-slate-900 rounded-[2px] w-[80%]"})})]})]}),t.jsx("div",{className:"absolute top-2 left-1/2 -translate-x-1/2 w-28 h-7 bg-black rounded-full z-30"}),t.jsxs("div",{className:"relative h-full flex flex-col pt-24 px-6 pb-8",children:[t.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-auto",children:[t.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[t.jsx("div",{className:"w-14 h-14 shadow-lg overflow-hidden flex items-center justify-center transition-transform hover:scale-105 duration-200 cursor-pointer bg-white",style:{backgroundColor:k||"#ffffff",borderRadius:v?`${v*(56/512)}px`:"12px"},children:t.jsx("div",{style:y,children:t.jsx("div",{className:"w-full h-full [&>svg]:w-full [&>svg]:h-full",dangerouslySetInnerHTML:{__html:H}})})}),t.jsx("span",{className:"text-[10px] font-medium text-slate-800 text-center drop-shadow-sm truncate w-full",children:q||"App"})]}),[...Array(15)].map((E,K)=>t.jsxs("div",{className:"flex flex-col items-center space-y-1 opacity-60",children:[t.jsx("div",{className:"w-14 h-14 bg-white/40 backdrop-blur-sm rounded-[12px] shadow-sm"}),t.jsx("div",{className:"w-10 h-2 bg-slate-800/20 rounded-full"})]},K))]}),t.jsx("div",{className:"bg-white/30 backdrop-blur-xl rounded-[28px] p-4 flex justify-around items-center mt-4 mb-4",children:[...Array(4)].map((E,K)=>t.jsx("div",{className:"w-14 h-14 bg-white/40 backdrop-blur-md rounded-[12px] shadow-sm"},K))})]}),t.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 w-32 h-1 bg-slate-900 rounded-full z-20"})]}),t.jsxs("div",{className:"w-full max-w-sm aspect-[9/19.5] rounded-[32px] overflow-hidden bg-zinc-900 shadow-2xl relative group border-4 border-zinc-800",children:[t.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1550684848-fac1c5b4e853?auto=format&fit=crop&q=80')] bg-cover bg-center opacity-80"}),t.jsxs("div",{className:"absolute top-0 w-full h-8 flex justify-between px-6 items-center text-xs font-medium text-white/90 z-20 pt-1",children:[t.jsx("span",{children:"12:00"}),t.jsxs("div",{className:"flex space-x-2 items-center",children:[t.jsx("svg",{className:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"currentColor",children:t.jsx("path",{d:"M12 21L22 9h-3.2L12 17.2 5.2 9H2l10 12z"})}),t.jsx("svg",{className:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"currentColor",children:t.jsx("path",{d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4z"})})]})]}),t.jsx("div",{className:"absolute top-2 left-1/2 -translate-x-1/2 w-4 h-4 bg-black rounded-full z-30"}),t.jsxs("div",{className:"relative h-full flex flex-col pt-16 px-6 pb-12",children:[t.jsxs("div",{className:"grid grid-cols-4 gap-x-4 gap-y-6 mb-auto",children:[t.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[t.jsx("div",{className:"w-14 h-14 shadow-lg overflow-hidden flex items-center justify-center transition-transform hover:scale-105 duration-200 cursor-pointer",style:{backgroundColor:k||"#ffffff",borderRadius:v?`${v*(56/512)}px`:"50%"},children:t.jsx("div",{style:y,children:t.jsx("div",{className:"w-full h-full [&>svg]:w-full [&>svg]:h-full",dangerouslySetInnerHTML:{__html:H}})})}),t.jsx("span",{className:"text-[10px] font-medium text-white/90 text-center drop-shadow-md truncate w-full",children:q||"App"})]}),[...Array(15)].map((E,K)=>t.jsxs("div",{className:"flex flex-col items-center space-y-1 opacity-50",children:[t.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-full shadow-sm"}),t.jsx("div",{className:"w-10 h-2 bg-white/20 rounded-full"})]},K))]}),t.jsxs("div",{className:"bg-white/20 backdrop-blur-md rounded-full h-10 w-full mb-6 flex items-center px-4 space-x-2 opacity-80",children:[t.jsx("div",{className:"w-4 h-4 rounded-full bg-white/50"}),t.jsx("div",{className:"w-full h-1.5 bg-white/30 rounded-full"}),t.jsx("div",{className:"w-3 h-4 rounded-sm bg-white/50 ml-auto"})]}),t.jsx("div",{className:"flex justify-around items-center px-2",children:[...Array(5)].map((E,K)=>t.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-md rounded-full shadow-sm"},K))})]}),t.jsxs("div",{className:"absolute bottom-0 w-full h-8 flex justify-around items-center px-12 z-20 pb-2",children:[t.jsx("div",{className:"w-3 h-3 border-l-2 border-b-2 border-white/60 rotate-45 transform"}),t.jsx("div",{className:"w-3 h-3 border-2 border-white/60 rounded-sm"}),t.jsx("div",{className:"w-3 h-3 bg-white/60 rounded-full"})]})]})]})}),b==="social"&&t.jsx("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-300",children:t.jsxs("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-6 space-y-6",children:[t.jsx("div",{className:"break-inside-avoid",children:t.jsx(Ce,{platform:"linkedin",image:U||H,title:q||"Project Title",description:m||"Designed with Logo Studio"})}),t.jsx("div",{className:"break-inside-avoid",children:t.jsx(Ce,{platform:"facebook",image:U||H,title:q||"Project Title",description:m||"Designed with Logo Studio"})}),t.jsx("div",{className:"break-inside-avoid",children:t.jsx(Ce,{platform:"twitter",image:U||H,title:q||"Project Title",description:m||"Designed with Logo Studio"})}),t.jsx("div",{className:"break-inside-avoid",children:t.jsx(Ce,{platform:"whatsapp",image:U||H,title:q||"Project Title",description:m||"Designed with Logo Studio"})}),t.jsx("div",{className:"break-inside-avoid",children:t.jsx(Ce,{platform:"instagram",image:U||H,title:q||"Project Title",description:m||"Designed with Logo Studio"})})]})}),b==="manifest"&&t.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] animate-in fade-in slide-in-from-bottom-4 duration-300",children:[t.jsx("div",{className:"mb-6",children:t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:$,onChange:E=>V(E.target.checked),className:"rounded border-zinc-300"}),t.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Splash Screen"})]})}),t.jsx("div",{className:"transform scale-110 md:scale-150 origin-top transition-transform",children:t.jsx(Rt,{display:a||"standalone",orientation:c||"any",backgroundColor:k,themeColor:n||k,showSplash:$,logoContent:H,scale:w})})]}),b==="exports"&&t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Export Selection"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:f,className:"text-xs text-blue-600 hover:underline",children:"Select All"}),t.jsx("span",{className:"text-zinc-300",children:"|"}),t.jsx("button",{onClick:_,className:"text-xs text-slate-500 hover:underline",children:"Deselect All"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"number",placeholder:"Size (px)",value:L,onChange:E=>T(E.target.value),className:"w-24 px-3 py-1.5 text-sm border border-zinc-200 dark:border-zinc-700 rounded-md bg-white dark:bg-zinc-800 focus:ring-2 focus:ring-blue-500 outline-none"}),t.jsx("button",{onClick:()=>{const E=parseInt(L);E>0&&!Ae.includes(E)&&!C.includes(E)&&(S(K=>[...K,E].sort((M,te)=>M-te)),h(E),T(""))},disabled:!L,className:"px-3 py-1.5 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Size"}),t.jsxs("div",{className:"text-sm text-slate-500 ml-2",children:[s.length+(u?.size||0)," selected"]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 items-end",children:[t.jsxs("div",{onClick:()=>d("favicon"),className:`relative group cursor-pointer border-2 rounded-xl p-4 flex flex-col items-center justify-end space-y-3 h-[240px] transition-all ${u.has("favicon")?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 hover:border-zinc-300 dark:hover:border-zinc-700"}`,children:[t.jsx("div",{className:"absolute top-3 right-3 z-10",children:t.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center transition-colors ${u.has("favicon")?"bg-blue-500 border-blue-500":"border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-800"}`,children:u.has("favicon")&&t.jsx(ze,{className:"w-3 h-3 text-white"})})}),t.jsx("div",{className:"flex-1 flex items-center justify-center",children:t.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:t.jsx("div",{className:"w-full h-full [&>svg]:w-full [&>svg]:h-full",dangerouslySetInnerHTML:{__html:H}})})}),t.jsx("div",{className:"text-center shrink-0",children:t.jsx("span",{className:"block text-sm font-semibold text-slate-900 dark:text-white",children:"favicon.ico"})})]}),t.jsxs("div",{onClick:()=>d("splash"),className:`relative group cursor-pointer border-2 rounded-xl p-4 flex flex-col items-center justify-end space-y-3 h-[240px] transition-all ${u.has("splash")?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 hover:border-zinc-300 dark:hover:border-zinc-700"}`,children:[t.jsx("div",{className:"absolute top-3 right-3 z-10",children:t.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center transition-colors ${u.has("splash")?"bg-blue-500 border-blue-500":"border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-800"}`,children:u.has("splash")&&t.jsx(ze,{className:"w-3 h-3 text-white"})})}),t.jsx("div",{className:"flex-1 flex items-center justify-center",children:t.jsx("div",{className:"w-16 h-24 bg-zinc-100 flex items-center justify-center border border-zinc-200",style:{backgroundColor:k},children:t.jsx("div",{className:"w-8 h-8 [&>svg]:w-full [&>svg]:h-full",dangerouslySetInnerHTML:{__html:H}})})}),t.jsx("div",{className:"text-center shrink-0",children:t.jsx("span",{className:"block text-sm font-semibold text-slate-900 dark:text-white",children:"splash.png"})})]}),t.jsxs("div",{onClick:()=>d("manifest"),className:`relative group cursor-pointer border-2 rounded-xl p-4 flex flex-col items-center justify-end space-y-3 h-[240px] transition-all ${u.has("manifest")?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 hover:border-zinc-300 dark:hover:border-zinc-700"}`,children:[t.jsx("div",{className:"absolute top-3 right-3 z-10",children:t.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center transition-colors ${u.has("manifest")?"bg-blue-500 border-blue-500":"border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-800"}`,children:u.has("manifest")&&t.jsx(ze,{className:"w-3 h-3 text-white"})})}),t.jsx("div",{className:"flex-1 flex items-center justify-center",children:t.jsx(Te,{className:"w-12 h-12 text-slate-300"})}),t.jsx("div",{className:"text-center shrink-0",children:t.jsx("span",{className:"block text-sm font-semibold text-slate-900 dark:text-white",children:"manifest.json"})})]}),t.jsxs("div",{onClick:()=>d("appjson"),className:`relative group cursor-pointer border-2 rounded-xl p-4 flex flex-col items-center justify-end space-y-3 h-[240px] transition-all ${u.has("appjson")?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 hover:border-zinc-300 dark:hover:border-zinc-700"}`,children:[t.jsx("div",{className:"absolute top-3 right-3 z-10",children:t.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center transition-colors ${u.has("appjson")?"bg-blue-500 border-blue-500":"border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-800"}`,children:u.has("appjson")&&t.jsx(ze,{className:"w-3 h-3 text-white"})})}),t.jsx("div",{className:"flex-1 flex items-center justify-center",children:t.jsx(Te,{className:"w-12 h-12 text-slate-300"})}),t.jsx("div",{className:"text-center shrink-0",children:t.jsx("span",{className:"block text-sm font-semibold text-slate-900 dark:text-white",children:"app.json"})})]}),[...Ae,...C].sort((E,K)=>K-E).map(E=>{const K=s.includes(E),M=Math.min(160,Math.max(48,E));return t.jsxs("div",{onClick:()=>h(E),className:`relative group cursor-pointer border-2 rounded-xl p-4 flex flex-col items-center justify-end space-y-3 transition-all h-[240px] ${K?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 hover:border-zinc-300 dark:hover:border-zinc-700"}`,children:[t.jsx("div",{className:"absolute top-3 right-3 z-10",children:t.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center transition-colors ${K?"bg-blue-500 border-blue-500":"border-zinc-300 dark:border-zinc-600 bg-white dark:bg-zinc-800"}`,children:K&&t.jsx(ze,{className:"w-3 h-3 text-white"})})}),t.jsx("div",{className:"flex-1 flex items-center justify-center w-full",children:t.jsx("div",{className:"flex items-center justify-center overflow-hidden shadow-sm bg-white dark:bg-black/20 rounded-lg transition-all",style:{width:M,height:M,backgroundColor:k||"transparent",borderRadius:v?`${v*(M/512)}px`:"0"},children:t.jsx("div",{style:y,children:t.jsx("div",{className:"w-full h-full [&>svg]:w-full [&>svg]:h-full",dangerouslySetInnerHTML:{__html:H}})})})}),t.jsxs("div",{className:"text-center shrink-0",children:[t.jsxs("span",{className:"block text-sm font-semibold text-slate-900 dark:text-white",children:[E,"x",E]}),t.jsx("span",{className:"text-xs text-slate-500",children:"PNG"})]})]},E)})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-8",children:[t.jsxs("div",{className:"border border-zinc-200 dark:border-zinc-800 rounded-lg p-4 bg-white dark:bg-zinc-900",children:[t.jsxs("h4",{className:"text-sm font-semibold mb-2 flex items-center",children:[t.jsx(Te,{className:"w-4 h-4 mr-2"})," manifest.json"]}),t.jsx(qe,{code:JSON.stringify(Ve({name:q,shortName:i||q},s),null,2),language:"json"})]}),t.jsxs("div",{className:"border border-zinc-200 dark:border-zinc-800 rounded-lg p-4 bg-white dark:bg-zinc-900",children:[t.jsxs("h4",{className:"text-sm font-semibold mb-2 flex items-center",children:[t.jsx(Te,{className:"w-4 h-4 mr-2"})," app.json"]}),t.jsx(qe,{code:JSON.stringify(Je({name:q,shortName:i||q},s),null,2),language:"json"})]})]})]})]})})]})}const Fe=H=>{try{const v=new DOMParser().parseFromString(H,"image/svg+xml").querySelector("svg");if(!v)return{width:512,height:512};let k=parseFloat(v.getAttribute("width")||""),a=parseFloat(v.getAttribute("height")||"");const c=v.getAttribute("viewBox");if(c){const s=c.split(/[\s,]+/).filter(Boolean);if(s.length===4){const h=parseFloat(s[2]),f=parseFloat(s[3]);if(!isNaN(h)&&!isNaN(f))return{width:h,height:f}}}return(isNaN(k)||v.getAttribute("width")?.includes("%"))&&(k=512),(isNaN(a)||v.getAttribute("height")?.includes("%"))&&(a=512),{width:k,height:a}}catch{return{width:512,height:512}}},Ye=(H,q)=>({scale:Math.min(400/H,400/q),x:0,y:0});function $t({lang:H}){const[q,x]=oe.useState(null),v=nt(()=>q?ue.projects.get(q):void 0,[q]),{addToast:k}=st(),[a,c]=oe.useState("edit"),[s,h]=oe.useState(1),[f,_]=oe.useState({x:0,y:0}),[w,g]=oe.useState(!1),[i,m]=oe.useState({x:0,y:0}),[n,u]=oe.useState({}),[d,b]=oe.useState([]),[z,C]=Me("editor-show-guide",!0),S=v?.selectedSizes||Ae,L=new Set(v?.selectedExtraAssets||["favicon","splash","manifest","appjson"]),[T,U]=oe.useState(!1),[O,$]=oe.useState({width:512,height:512}),[V,y]=oe.useState(!1),[B,r]=oe.useState({x:0,y:0}),[E,K]=oe.useState(1),[M,te]=oe.useState(null),[W,ee]=Me("editor-open-sections",["style","colors"]),I=p=>{ee(l=>l.includes(p)?l.filter(o=>o!==p):[...l,p])},A=p=>De[H]?.[p]||De[Xe]?.[p]||p;oe.useEffect(()=>{const l=new URLSearchParams(window.location.search).get("id");l&&x(Number(l))},[]),oe.useEffect(()=>{if(v&&!T){if(v.logoScale===1&&v.logoX===0&&v.logoY===0){const p=Fe(v.svgContent),{scale:l,x:o,y:j}=Ye(p.width,p.height);h(l),_({x:o,y:j})}else h(v.logoScale||1),_({x:v.logoX||0,y:v.logoY||0});v.colors&&u(v.colors),U(!0)}},[v,T]),oe.useEffect(()=>{if(!T||!v||!q)return;const p=setTimeout(()=>{v.logoScale!==s&&ue.projects.update(q,{logoScale:s})},500);return()=>clearTimeout(p)},[s,q,T]),oe.useEffect(()=>{if(v?.svgContent){const o=new DOMParser().parseFromString(v.svgContent,"image/svg+xml").querySelectorAll("*"),j=new Set;o.forEach(P=>{const N=P.getAttribute("fill");N&&N!=="none"&&N!=="transparent"&&j.add(N);const D=P.getAttribute("stroke");D&&D!=="none"&&D!=="transparent"&&j.add(D)}),b(Array.from(j));const R=Fe(v.svgContent);$(R)}},[v]);const Q=()=>{if(!v?.svgContent)return"";let p=v.svgContent;return Object.entries(n).forEach(([l,o])=>{p=p.replaceAll(`"${l}"`,`"${o}"`),p=p.replaceAll(`'${l}'`,`'${o}'`)}),p},X=p=>{if(a!=="edit")return;p.preventDefault();const o=Math.min(Math.max(.1,s-p.deltaY*.001),5);h(o)},G=p=>{a==="edit"&&(p.button===1||p.button===0)&&(g(!0),m({x:p.clientX-f.x,y:p.clientY-f.y}))},le=p=>{w&&_({x:p.clientX-i.x,y:p.clientY-i.y})},fe=()=>{g(!1),v&&q&&ue.projects.update(q,{logoX:f.x,logoY:f.y})};oe.useEffect(()=>{const p=o=>{if(!V)return;const j=o.clientX-B.x,R=o.clientY-B.y;let P=0;switch(M){case"br":P=Math.max(j,R);break;case"bl":P=Math.max(-j,R);break;case"tr":P=Math.max(j,-R);break;case"tl":P=Math.max(-j,-R);break}const D=Math.max(.1,Math.min(5,E+P*.005));h(D)},l=()=>{V&&(y(!1),te(null))};return V&&(window.addEventListener("mousemove",p),window.addEventListener("mouseup",l)),()=>{window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",l)}},[V,B,E,M]);const re=(p,l)=>{p.stopPropagation(),y(!0),te(l),r({x:p.clientX,y:p.clientY}),K(s)},ne=(p,l)=>{const o={...n,[p]:l};u(o),v&&q&&ue.projects.update(q,{colors:o})},he=async p=>{if(!v||!q)return;const l=v.selectedSizes||Ae,o=l.includes(p)?l.filter(j=>j!==p):[...l,p].sort((j,R)=>j-R);await ue.projects.update(q,{selectedSizes:o})},ce=async()=>{!v||!q||await ue.projects.update(q,{selectedSizes:Ae,selectedExtraAssets:["favicon","splash","manifest","appjson"]})},ge=async()=>{!v||!q||await ue.projects.update(q,{selectedSizes:[],selectedExtraAssets:[]})},me=async p=>{if(!v||!q)return;const l=new Set(v.selectedExtraAssets||["favicon","splash","manifest","appjson"]);l.has(p)?l.delete(p):l.add(p),await ue.projects.update(q,{selectedExtraAssets:Array.from(l)})},e=async()=>{if(!v)return;const p=new It,l=Q(),o=[...S].sort((N,D)=>N-D);if(p.file(`${v.name}.svg`,l),L.has("manifest")){const N=Ve(v,o);p.file("manifest.json",JSON.stringify(N,null,2))}if(L.has("appjson")){const N=Je(v,o);p.file("app.json",JSON.stringify(N,null,2))}const j=(N,D,Y=1,Z=!1)=>new Promise(J=>{const ae=new Image,se=new Blob([l],{type:"image/svg+xml;charset=utf-8"}),pe=URL.createObjectURL(se);ae.onload=()=>{const we=document.createElement("canvas");we.width=N,we.height=D;const ie=we.getContext("2d");if(ie){if(!Z){const xe=(v.borderRadius||0)*(N/512);ie.beginPath(),ie.moveTo(xe,0),ie.lineTo(N-xe,0),ie.quadraticCurveTo(N,0,N,xe),ie.lineTo(N,D-xe),ie.quadraticCurveTo(N,D,N-xe,D),ie.lineTo(xe,D),ie.quadraticCurveTo(0,D,0,D-xe),ie.lineTo(0,xe),ie.quadraticCurveTo(0,0,xe,0),ie.closePath(),ie.clip()}v.backgroundColor&&(ie.fillStyle=v.backgroundColor,ie.fillRect(0,0,N,D)),ie.save(),ie.translate(N/2,D/2);const _e=N/512,de=(v.logoX||0)*_e,ke=(v.logoY||0)*_e;ie.translate(de,ke);const je=N/512,ve=O.width*je,Ne=O.height*je,Ee=v.logoScale||1;ie.scale(Ee*Y,Ee*Y),ie.drawImage(ae,-ve/2,-Ne/2,ve,Ne),ie.restore(),we.toBlob(xe=>{URL.revokeObjectURL(pe),J(xe)})}else J(null)},ae.src=pe}),R=o.map(async N=>{const D=await j(N,N);D&&p.file(`icon-${N}.png`,D)});if(L.has("splash")){const N=j(1080,1920,.5).then(D=>{D&&p.file("splash.png",D)});R.push(N)}if(L.has("favicon")){const N=j(32,32,1,!0).then(D=>{D&&p.file("favicon.ico",D)});R.push(N)}try{const N=await Qe(v,l);N&&p.file("opengraph-image.svg",N)}catch(N){console.error("OG Generation failed",N)}await Promise.all(R);const P=await p.generateAsync({type:"blob"});Bt.saveAs(P,`${v.name}-assets.zip`)},F=p=>{const l=p.target.files?.[0];if(l&&q){const o=new FileReader;o.onload=async j=>{const R=j.target?.result,P=Fe(R),{scale:N,x:D,y:Y}=Ye(P.width,P.height);await ue.projects.update(q,{svgContent:R,updatedAt:new Date,logoScale:N,logoX:D,logoY:Y}),h(N),_({x:D,y:Y}),k(A("editor.saved"),"success")},o.readAsText(l)}};return v?t.jsxs("div",{className:"flex flex-col md:flex-row h-full bg-zinc-50 dark:bg-zinc-950 overflow-hidden",children:[t.jsxs("main",{className:"flex-1 flex flex-col relative overflow-hidden",children:[t.jsxs("header",{className:"h-16 px-6 border-b border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 flex items-center justify-center shrink-0 z-20 relative",children:[t.jsx("a",{href:`/${H}`,className:"absolute left-6 p-2 rounded-lg text-slate-500 hover:bg-zinc-100 dark:hover:bg-zinc-800 hover:text-slate-900 dark:hover:text-white transition-colors",title:A("sidebar.back_to_overview"),children:t.jsx($e,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex items-center bg-zinc-100 dark:bg-zinc-800/50 p-1 rounded-lg",children:[t.jsxs("button",{onClick:()=>c("edit"),className:`flex items-center px-4 py-1.5 rounded-md text-sm font-medium transition-all ${a==="edit"?"bg-white dark:bg-zinc-700 text-slate-900 dark:text-white shadow-sm":"text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[t.jsx(Pe,{className:"w-4 h-4 mr-2"}),"Edit"]}),t.jsxs("button",{onClick:()=>c("preview"),className:`flex items-center px-4 py-1.5 rounded-md text-sm font-medium transition-all ${a==="preview"?"bg-white dark:bg-zinc-700 text-slate-900 dark:text-white shadow-sm":"text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[t.jsx(xt,{className:"w-4 h-4 mr-2"}),"Preview"]})]})]}),t.jsxs("div",{className:`flex-1 relative bg-zinc-50 dark:bg-zinc-950 bg-[radial-gradient(#e5e7eb_1px,transparent_1px)] dark:bg-[radial-gradient(#27272a_1px,transparent_1px)] [background-size:16px_16px] overflow-hidden cursor-move ${a==="edit"?"block":"hidden"}`,onMouseDown:G,onMouseMove:le,onMouseUp:fe,onMouseLeave:fe,onWheel:X,children:[t.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:[t.jsx("div",{className:"absolute w-[512px] h-[512px] border border-zinc-200 dark:border-zinc-700 shadow-sm flex items-center justify-center overflow-hidden",style:{backgroundColor:v.backgroundColor||"transparent",borderRadius:v.borderRadius?`${v.borderRadius}px`:"0"},children:t.jsx("div",{style:{width:O.width,height:O.height,transform:`translate(${f.x}px, ${f.y}px) scale(${s})`,transformOrigin:"center",transition:w?"none":"transform 0.1s ease-out",flexShrink:0},children:t.jsx("div",{style:{width:"100%",height:"100%"},dangerouslySetInnerHTML:{__html:Q()}})})}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:t.jsxs("div",{style:{width:O.width,height:O.height,transform:`translate(${f.x}px, ${f.y}px) scale(${s})`,transformOrigin:"center",position:"relative"},children:[t.jsx("div",{className:"absolute inset-0 border border-blue-500 opacity-50 pointer-events-none"}),t.jsx("div",{className:"absolute -top-1.5 -left-1.5 w-3 h-3 bg-white border border-blue-500 rounded-full cursor-nwse-resize pointer-events-auto shadow-sm",onMouseDown:p=>re(p,"tl"),style:{transform:`scale(${1/s})`}}),t.jsx("div",{className:"absolute -top-1.5 -right-1.5 w-3 h-3 bg-white border border-blue-500 rounded-full cursor-nesw-resize pointer-events-auto shadow-sm",onMouseDown:p=>re(p,"tr"),style:{transform:`scale(${1/s})`}}),t.jsx("div",{className:"absolute -bottom-1.5 -left-1.5 w-3 h-3 bg-white border border-blue-500 rounded-full cursor-nesw-resize pointer-events-auto shadow-sm",onMouseDown:p=>re(p,"bl"),style:{transform:`scale(${1/s})`}}),t.jsx("div",{className:"absolute -bottom-1.5 -right-1.5 w-3 h-3 bg-white border border-blue-500 rounded-full cursor-nwse-resize pointer-events-auto shadow-sm",onMouseDown:p=>re(p,"br"),style:{transform:`scale(${1/s})`}})]})}),z&&t.jsx("div",{className:"absolute w-[512px] h-[512px] z-20 pointer-events-none opacity-60",children:t.jsxs("svg",{width:"512",height:"512",viewBox:"0 0 512 512",className:"stroke-zinc-400/50 dark:stroke-zinc-600/50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsxs("g",{strokeDasharray:"4 4",strokeWidth:"1",children:[[...Array(7)].map((p,l)=>t.jsx("line",{x1:(l+1)*64,y1:"0",x2:(l+1)*64,y2:"512"},`v-${l}`)),[...Array(7)].map((p,l)=>t.jsx("line",{x1:"0",y1:(l+1)*64,x2:"512",y2:(l+1)*64},`h-${l}`))]}),t.jsxs("g",{strokeWidth:"1.5",className:"stroke-blue-500/50",children:[t.jsx("line",{x1:"256",y1:"0",x2:"256",y2:"512"}),t.jsx("line",{x1:"0",y1:"256",x2:"512",y2:"256"})]}),t.jsxs("g",{strokeDasharray:"4 4",strokeWidth:"1",children:[t.jsx("line",{x1:"0",y1:"0",x2:"512",y2:"512"}),t.jsx("line",{x1:"512",y1:"0",x2:"0",y2:"512"})]}),t.jsxs("g",{strokeWidth:"1",strokeDasharray:"4 4",children:[t.jsx("circle",{cx:"256",cy:"256",r:"256"}),t.jsx("circle",{cx:"256",cy:"256",r:"218"}),t.jsx("circle",{cx:"256",cy:"256",r:"128"}),t.jsx("circle",{cx:"256",cy:"256",r:"64"})]}),t.jsxs("g",{strokeWidth:"1.5",strokeDasharray:"4 4",children:[t.jsx("path",{d:`M 256,0
                                C 64,0 0,64 0,256
                                C 0,448 64,512 256,512
                                C 448,512 512,448 512,256
                                C 512,64 448,0 256,0 Z`,className:"stroke-zinc-500/50 dark:stroke-zinc-400/50",transform:"scale(0.9) translate(28.4, 28.4)"}),t.jsx("rect",{x:"160",y:"160",width:"192",height:"192",rx:"30"})]})]})})]}),t.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 bg-white/90 dark:bg-zinc-900/90 backdrop-blur border border-zinc-200 dark:border-zinc-800 rounded-full shadow-lg px-4 py-2 flex items-center space-x-4",children:[t.jsx("button",{onClick:()=>h(p=>Math.max(.1,p-.1)),className:"p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-full text-slate-600 dark:text-slate-300",children:t.jsx(vt,{className:"w-4 h-4"})}),t.jsxs("span",{className:"text-xs font-mono w-12 text-center text-slate-900 dark:text-white",children:[Math.round(s*100),"%"]}),t.jsx("button",{onClick:()=>h(p=>Math.min(5,p+.1)),className:"p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-full text-slate-600 dark:text-slate-300",children:t.jsx(it,{className:"w-4 h-4"})}),t.jsx("div",{className:"w-px h-4 bg-zinc-300 dark:bg-zinc-700 mx-2"}),t.jsx("button",{onClick:()=>{h(1),_({x:0,y:0})},className:"p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-full text-slate-600 dark:text-slate-300",title:A("editor.reset_view"),children:t.jsx(yt,{className:"w-4 h-4"})}),t.jsx("div",{className:"w-px h-4 bg-zinc-300 dark:bg-zinc-700 mx-2"}),t.jsx("button",{onClick:()=>C(!z),className:`p-1 rounded-full transition-colors ${z?"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":"hover:bg-zinc-100 dark:hover:bg-zinc-800 text-slate-600 dark:text-slate-300"}`,title:"Toggle Guide",children:t.jsx(Pe,{className:"w-4 h-4"})})]})]}),t.jsx("div",{className:`flex-1 bg-zinc-50 dark:bg-zinc-950 overflow-hidden ${a==="preview"?"block":"hidden"}`,children:t.jsx(Ft,{svgContent:Q(),projectName:v.name,lang:H,borderRadius:v.borderRadius,backgroundColor:v.backgroundColor,displayMode:v.displayMode,orientation:v.orientation,selectedSizes:S,onToggleSize:he,onSelectAllSizes:ce,onDeselectAllSizes:ge,scale:s,position:f,shortName:v.shortName,description:v.description,themeColor:v.themeColor,selectedExtraAssets:L,onToggleExtraAsset:me})})]}),t.jsx(ot,{side:"right",defaultWidth:320,minWidth:280,maxWidth:400,storageKey:"editor-sidebar",className:"z-10 h-1/2 md:h-full w-full border-t md:border-t-0 md:border-l border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900",children:t.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[t.jsx("div",{className:"p-6 border-b border-zinc-200 dark:border-zinc-800 shrink-0",children:t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider block mb-2",children:A("editor.project_name")}),t.jsx("input",{type:"text",value:v.name,onChange:p=>ue.projects.update(v.id,{name:p.target.value}),className:"w-full bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded px-3 py-2 text-sm text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none transition-shadow"})]})})}),t.jsxs("div",{className:"flex-1 overflow-y-auto",children:[t.jsxs("div",{className:"border-b border-zinc-200 dark:border-zinc-800",children:[t.jsxs("button",{onClick:()=>I("style"),className:"w-full flex items-center justify-between p-4 text-left hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"Logo Style"}),t.jsx(Oe,{className:`w-4 h-4 text-slate-500 transition-transform duration-200 ${W.includes("style")?"rotate-180":""}`})]}),W.includes("style")&&t.jsxs("div",{className:"p-4 pt-0 space-y-4 animate-in slide-in-from-top-2 fade-in duration-200",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-medium text-slate-500 mb-2 block",children:"Background Color"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 rounded border border-zinc-200 dark:border-zinc-700 overflow-hidden relative",children:t.jsx("input",{type:"color",value:v.backgroundColor||"#ffffff",onChange:p=>ue.projects.update(v.id,{backgroundColor:p.target.value}),className:"absolute -top-1/2 -left-1/2 w-[200%] h-[200%] cursor-pointer p-0 m-0 border-none"})}),t.jsx("button",{onClick:()=>ue.projects.update(v.id,{backgroundColor:void 0}),className:"text-xs text-slate-500 hover:text-slate-900 dark:hover:text-slate-300 underline",children:"Clear"})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"text-xs font-medium text-slate-500",children:"Border Radius"}),t.jsxs("span",{className:"text-xs font-mono text-slate-400",children:[v.borderRadius||0,"px"]})]}),t.jsx("input",{type:"range",min:"0",max:"256",value:v.borderRadius||0,onChange:p=>ue.projects.update(v.id,{borderRadius:Number(p.target.value)}),className:"w-full h-2 bg-zinc-200 rounded-lg appearance-none cursor-pointer dark:bg-zinc-700 accent-blue-600"})]})]})]}),t.jsxs("div",{className:"border-b border-zinc-200 dark:border-zinc-800",children:[t.jsxs("button",{onClick:()=>I("pwa"),className:"w-full flex items-center justify-between p-4 text-left hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"PWA & Manifest"}),t.jsx(Oe,{className:`w-4 h-4 text-slate-500 transition-transform duration-200 ${W.includes("pwa")?"rotate-180":""}`})]}),W.includes("pwa")&&t.jsxs("div",{className:"p-4 pt-0 space-y-4 animate-in slide-in-from-top-2 fade-in duration-200",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-medium text-slate-500 mb-1 block",children:"Short Name"}),t.jsx("input",{type:"text",value:v.shortName||"",onChange:p=>ue.projects.update(v.id,{shortName:p.target.value}),className:"w-full bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded px-2 py-1.5 text-xs text-slate-900 dark:text-white focus:ring-1 focus:ring-blue-500 outline-none",placeholder:"App"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-medium text-slate-500 mb-1 block",children:"Description"}),t.jsx("textarea",{value:v.description||"",onChange:p=>ue.projects.update(v.id,{description:p.target.value}),className:"w-full bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded px-2 py-1.5 text-xs text-slate-900 dark:text-white focus:ring-1 focus:ring-blue-500 outline-none resize-none",rows:2,placeholder:"My awesome app..."})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-medium text-slate-500 mb-1 block",children:"Theme Color"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-6 h-6 rounded border border-zinc-200 dark:border-zinc-700 overflow-hidden relative",children:t.jsx("input",{type:"color",value:v.themeColor||"#ffffff",onChange:p=>ue.projects.update(v.id,{themeColor:p.target.value}),className:"absolute -top-1/2 -left-1/2 w-[200%] h-[200%] cursor-pointer p-0 m-0 border-none"})}),t.jsx("span",{className:"text-[10px] font-mono text-slate-400",children:v.themeColor})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-medium text-slate-500 mb-1 block",children:"App Bg Color"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-6 h-6 rounded border border-zinc-200 dark:border-zinc-700 overflow-hidden relative",children:t.jsx("input",{type:"color",value:v.appBackgroundColor||"#ffffff",onChange:p=>ue.projects.update(v.id,{appBackgroundColor:p.target.value}),className:"absolute -top-1/2 -left-1/2 w-[200%] h-[200%] cursor-pointer p-0 m-0 border-none"})}),t.jsx("span",{className:"text-[10px] font-mono text-slate-400",children:v.appBackgroundColor})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-medium text-slate-500 mb-1 block",children:"Display"}),t.jsxs("select",{value:v.displayMode||"standalone",onChange:p=>ue.projects.update(v.id,{displayMode:p.target.value}),className:"w-full bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded px-2 py-1.5 text-xs text-slate-900 dark:text-white focus:ring-1 focus:ring-blue-500 outline-none",children:[t.jsx("option",{value:"standalone",children:"Standalone"}),t.jsx("option",{value:"fullscreen",children:"Fullscreen"}),t.jsx("option",{value:"minimal-ui",children:"Minimal UI"}),t.jsx("option",{value:"browser",children:"Browser"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-medium text-slate-500 mb-1 block",children:"Orientation"}),t.jsxs("select",{value:v.orientation||"any",onChange:p=>ue.projects.update(v.id,{orientation:p.target.value}),className:"w-full bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded px-2 py-1.5 text-xs text-slate-900 dark:text-white focus:ring-1 focus:ring-blue-500 outline-none",children:[t.jsx("option",{value:"any",children:"Any"}),t.jsx("option",{value:"natural",children:"Natural"}),t.jsx("option",{value:"portrait",children:"Portrait"}),t.jsx("option",{value:"landscape",children:"Landscape"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-medium text-slate-500 mb-1 block",children:"Start URL"}),t.jsx("input",{type:"text",value:v.startUrl||"/",onChange:p=>ue.projects.update(v.id,{startUrl:p.target.value}),className:"w-full bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded px-2 py-1.5 text-xs text-slate-900 dark:text-white focus:ring-1 focus:ring-blue-500 outline-none"})]})]})]}),t.jsxs("div",{className:"border-b border-zinc-200 dark:border-zinc-800",children:[t.jsxs("button",{onClick:()=>I("colors"),className:"w-full flex items-center justify-between p-4 text-left hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:A("editor.recolor")}),t.jsx(Oe,{className:`w-4 h-4 text-slate-500 transition-transform duration-200 ${W.includes("colors")?"rotate-180":""}`})]}),W.includes("colors")&&t.jsxs("div",{className:"p-4 pt-0 space-y-3 animate-in slide-in-from-top-2 fade-in duration-200",children:[d.map((p,l)=>t.jsxs("div",{className:"flex items-center justify-between group",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-6 h-6 rounded border border-zinc-200 dark:border-zinc-700 shadow-sm",style:{backgroundColor:p}}),t.jsx("span",{className:"text-xs font-mono text-slate-500",children:p})]}),t.jsx($e,{className:"w-3 h-3 text-slate-400 rotate-180 opacity-0 group-hover:opacity-100 transition-opacity"}),t.jsxs("div",{className:"flex items-center space-x-2 relative",children:[t.jsx("button",{onClick:()=>ne(p,"transparent"),className:"p-1 rounded-full hover:bg-zinc-100 dark:hover:bg-zinc-800 text-slate-400 hover:text-red-500 transition-colors mr-1",title:"Make Transparent",children:t.jsx(dt,{className:"w-3 h-3"})}),t.jsxs("div",{className:`w-8 h-8 rounded-full border border-zinc-200 dark:border-zinc-700 overflow-hidden cursor-pointer relative ${n[p]==="transparent"||n[p]==="rgba(0,0,0,0)"?"bg-[url(https://upload.wikimedia.org/wikipedia/commons/1/18/Transparent_square_tiles_texture.png)] bg-[length:8px_8px]":""}`,children:[t.jsx("input",{type:"color",value:n[p]==="transparent"?"#ffffff":n[p]||p,onChange:o=>ne(p,o.target.value),className:"absolute -top-1/2 -left-1/2 w-[200%] h-[200%] cursor-pointer p-0 m-0 border-none opacity-0"}),n[p]!=="transparent"&&t.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundColor:n[p]||p}})]})]})]},l)),d.length===0&&t.jsx("p",{className:"text-xs text-slate-400",children:"No editable colors found."})]})]}),t.jsxs("div",{className:"border-b border-zinc-200 dark:border-zinc-800",children:[t.jsxs("button",{onClick:()=>I("actions"),className:"w-full flex items-center justify-between p-4 text-left hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:A("editor.actions")}),t.jsx(Oe,{className:`w-4 h-4 text-slate-500 transition-transform duration-200 ${W.includes("actions")?"rotate-180":""}`})]}),W.includes("actions")&&t.jsx("div",{className:"p-4 pt-0 space-y-3 animate-in slide-in-from-top-2 fade-in duration-200",children:t.jsxs("label",{className:"flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-800 rounded-lg cursor-pointer hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors border border-transparent hover:border-zinc-200 dark:hover:border-zinc-700",children:[t.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-200",children:A("editor.replace_svg")}),t.jsx(Ct,{className:"w-4 h-4 text-slate-500"}),t.jsx("input",{type:"file",accept:".svg",className:"hidden",onChange:F})]})})]})]}),t.jsx("div",{className:"p-6 border-t border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-black/20 shrink-0 space-y-4",children:t.jsxs("button",{onClick:e,className:"w-full flex items-center justify-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg shadow-sm font-medium transition-colors",children:[t.jsx(Ke,{className:"w-4 h-4"}),t.jsxs("span",{children:[A("editor.download_assets")," (",S.length+L.size,")"]})]})})]})})]}):t.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:"Loading..."})}export{$t as default};
